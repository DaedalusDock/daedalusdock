<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>code/modules/unit_tests/__unit_tests.dm - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="code/modules/unit_tests/__unit_tests.html#define">Define Details</a></header><main><h1>code/modules/unit_tests/__unit_tests.dm <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm"></a></h1><table class="summary" cellspacing="0"><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_FAIL">TEST_FAIL</a></th><td>For advanced cases, fail unconditionally but don't return (so a test can return multiple results)</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_SKIP">TEST_SKIP</a></th><td>Mark the test as skipped.</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_ASSERT">TEST_ASSERT</a></th><td>Asserts that a condition is true
If the condition is not true, fails the test</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_ASSERT_NOTNULL">TEST_ASSERT_NOTNULL</a></th><td>Asserts that a parameter is not null</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_ASSERT_NULL">TEST_ASSERT_NULL</a></th><td>Asserts that a parameter is null</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_ASSERT_EQUAL">TEST_ASSERT_EQUAL</a></th><td>Asserts that the two parameters passed are equal, fails otherwise
Optionally allows an additional message in the case of a failure</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_ASSERT_NOTEQUAL">TEST_ASSERT_NOTEQUAL</a></th><td>Asserts that the two parameters passed are not equal, fails otherwise
Optionally allows an additional message in the case of a failure</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_FOCUS">TEST_FOCUS</a></th><td><em>Only</em> run the test provided within the parentheses
This is useful for debugging when you want to reduce noise, but should never be pushed
Intended to be used in the manner of <code>TEST_FOCUS(/datum/unit_test/math)</code></td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/UNIT_TEST_PASSED">UNIT_TEST_PASSED</a></th><td>Constants indicating unit test completion status</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_PRE">TEST_PRE</a></th><td>Capture pre-unit test mapping error reports. Maybe one day we can take this out back and shoot it.</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_MAP_STANDARDS">TEST_MAP_STANDARDS</a></th><td>Ensures map standards. Runs before standard unit tests as for production maps, these are more important.</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_DEFAULT">TEST_DEFAULT</a></th><td>Standard unit test priority</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_LONGER">TEST_LONGER</a></th><td>After most test steps, used for tests that run long so shorter issues can be noticed faster</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TEST_DEL_WORLD">TEST_DEL_WORLD</a></th><td>This must be the last test to run due to the inherent nature of the test iterating every single tangible atom in the game
and qdeleting all of them (while taking long sleeps to make sure the garbage collector fires properly) taking a large amount of time.</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/TRAIT_SOURCE_UNIT_TESTS">TRAIT_SOURCE_UNIT_TESTS</a></th><td>A trait source when adding traits through unit tests</td></tr><tr><th><a href="code/modules/unit_tests/__unit_tests.html#define/ALLOCATE_BOTTOM_LEFT">ALLOCATE_BOTTOM_LEFT</a></th><td>Helper to allocate a new object with the implied type (the type of the variable it's assigned to) in the corner of the test room</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/ALLOCATE_BOTTOM_LEFT"><aside class="declaration">#define </aside>ALLOCATE_BOTTOM_LEFT<aside>(arguments ...)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L87"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 87"></a></h3><p>Helper to allocate a new object with the implied type (the type of the variable it's assigned to) in the corner of the test room</p><h3 id="define/TEST_ASSERT"><aside class="declaration">#define </aside>TEST_ASSERT<aside>(assertion, reason)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 14"></a></h3><p>Asserts that a condition is true
If the condition is not true, fails the test</p><h3 id="define/TEST_ASSERT_EQUAL"><aside class="declaration">#define </aside>TEST_ASSERT_EQUAL<aside>(a, b, message)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 24"></a></h3><p>Asserts that the two parameters passed are equal, fails otherwise
Optionally allows an additional message in the case of a failure</p><h3 id="define/TEST_ASSERT_NOTEQUAL"><aside class="declaration">#define </aside>TEST_ASSERT_NOTEQUAL<aside>(a, b, message)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 34"></a></h3><p>Asserts that the two parameters passed are not equal, fails otherwise
Optionally allows an additional message in the case of a failure</p><h3 id="define/TEST_ASSERT_NOTNULL"><aside class="declaration">#define </aside>TEST_ASSERT_NOTNULL<aside>(a, reason)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 17"></a></h3><p>Asserts that a parameter is not null</p><h3 id="define/TEST_ASSERT_NULL"><aside class="declaration">#define </aside>TEST_ASSERT_NULL<aside>(a, reason)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 20"></a></h3><p>Asserts that a parameter is null</p><h3 id="define/TEST_DEFAULT"><aside class="declaration">#define </aside>TEST_DEFAULT <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L57"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 57"></a></h3><p>Standard unit test priority</p><h3 id="define/TEST_DEL_WORLD"><aside class="declaration">#define </aside>TEST_DEL_WORLD <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L62"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 62"></a></h3><p>This must be the last test to run due to the inherent nature of the test iterating every single tangible atom in the game
and qdeleting all of them (while taking long sleeps to make sure the garbage collector fires properly) taking a large amount of time.</p><h3 id="define/TEST_FAIL"><aside class="declaration">#define </aside>TEST_FAIL<aside>(reason)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 7"></a></h3><p>For advanced cases, fail unconditionally but don't return (so a test can return multiple results)</p><h3 id="define/TEST_FOCUS"><aside class="declaration">#define </aside>TEST_FOCUS<aside>(test_path)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 45"></a></h3><p><em>Only</em> run the test provided within the parentheses
This is useful for debugging when you want to reduce noise, but should never be pushed
Intended to be used in the manner of <code>TEST_FOCUS(/datum/unit_test/math)</code></p><h3 id="define/TEST_LONGER"><aside class="declaration">#define </aside>TEST_LONGER <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 59"></a></h3><p>After most test steps, used for tests that run long so shorter issues can be noticed faster</p><h3 id="define/TEST_MAP_STANDARDS"><aside class="declaration">#define </aside>TEST_MAP_STANDARDS <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 55"></a></h3><p>Ensures map standards. Runs before standard unit tests as for production maps, these are more important.</p><h3 id="define/TEST_PRE"><aside class="declaration">#define </aside>TEST_PRE <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L53"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 53"></a></h3><p>Capture pre-unit test mapping error reports. Maybe one day we can take this out back and shoot it.</p><h3 id="define/TEST_SKIP"><aside class="declaration">#define </aside>TEST_SKIP<aside>(reason)</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 10"></a></h3><p>Mark the test as skipped.</p><h3 id="define/TRAIT_SOURCE_UNIT_TESTS"><aside class="declaration">#define </aside>TRAIT_SOURCE_UNIT_TESTS <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L84"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 84"></a></h3><p>A trait source when adding traits through unit tests</p><h3 id="define/UNIT_TEST_PASSED"><aside class="declaration">#define </aside>UNIT_TEST_PASSED <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/__unit_tests.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/__unit_tests.dm 48"></a></h3><p>Constants indicating unit test completion status</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/a11ad7c401daeb2805315aa8820f21ea7c1bf233">a11ad7c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>