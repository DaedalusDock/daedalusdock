<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>code/modules/unit_tests/screenshots/README.md - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a></header><main><h1>code/modules/unit_tests/screenshots/README.md <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/unit_tests/screenshots/README.md"><img src="git.png" width="16" height="16" title="code/modules/unit_tests/screenshots/README.md"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><p>The <code>data</code> folder contains the results for screenshot tests. Screenshot tests make sure an icon looks the same as it did before a change to prevent regressions.</p>
<p>You can create one by simply using the <code>test_screenshot</code> proc.</p>
<p>This example test screenshots a red image and keeps it.</p>
<pre><code class="language-dm">/// This is an example for screenshot tests, and a meta-test to make sure they work in the success case.
/// It creates a picture that is red on the left side, green on the other.
/datum/unit_test/screenshots/basic

/datum/unit_test/screenshots/basic/Run()
	var/icon/red = icon('icons/blanks/32x32.dmi', &quot;nothing&quot;)
	red.Blend(COLOR_RED, ICON_OVERLAY)
	test_screenshot(&quot;red&quot;, red)
</code></pre>
<p>Unfortunately, screenshot tests are sanest to test through a pull request directly, due to limitations with both DM and GitHub.</p></td></tr></table></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/a11ad7c401daeb2805315aa8820f21ea7c1bf233">a11ad7c</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>