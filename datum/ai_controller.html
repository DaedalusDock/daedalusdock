<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/ai_controller - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/ai_controller.html#var">Var Details</a> - <a href="datum/ai_controller.html#proc">Proc Details</a></header><main><h1>ai_controller <aside>/<a href="datum.html">datum</a>/<a href="datum/ai_controller.html">ai_controller</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L7"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 7"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/ai_controller.html#var/ai_movement">ai_movement</a></th><td>Reference to the movement datum we use. Is a type on initialize but becomes a ref afterwards.</td></tr><tr><th><a href="datum/ai_controller.html#var/ai_status">ai_status</a></th><td>Current status of AI (OFF/ON)</td></tr><tr><th><a href="datum/ai_controller.html#var/ai_traits">ai_traits</a></th><td>Bitfield of traits for this AI to handle extra behavior</td></tr><tr><th><a href="datum/ai_controller.html#var/behavior_args">behavior_args</a></th><td>Stored arguments for behaviors given during their initial creation</td></tr><tr><th><a href="datum/ai_controller.html#var/behavior_cooldowns">behavior_cooldowns</a></th><td>Current actions and their respective last time ran as an assoc list.</td></tr><tr><th><a href="datum/ai_controller.html#var/blackboard">blackboard</a></th><td>This is a list of variables the AI uses and can be mutated by actions.</td></tr><tr><th><a href="datum/ai_controller.html#var/consecutive_pathing_attempts">consecutive_pathing_attempts</a></th><td>Tracks recent pathing attempts, if we fail too many in a row we fail our current plans.</td></tr><tr><th><a href="datum/ai_controller.html#var/continue_processing_when_client">continue_processing_when_client</a></th><td>Can the AI remain in control if there is a client?</td></tr><tr><th><a href="datum/ai_controller.html#var/current_behaviors">current_behaviors</a></th><td>Current actions being performed by the AI.</td></tr><tr><th><a href="datum/ai_controller.html#var/current_movement_target">current_movement_target</a></th><td>Current movement target of the AI, generally set by decision making.</td></tr><tr><th><a href="datum/ai_controller.html#var/default_behavior">default_behavior</a></th><td>The default behavior to execute when there's nothing else to do.</td></tr><tr><th><a href="datum/ai_controller.html#var/failed_planning_cooldown">failed_planning_cooldown</a></th><td>Cooldown for new plans, to prevent AI from going nuts if it can't think of new plans and looping on end</td></tr><tr><th><a href="datum/ai_controller.html#var/max_target_distance">max_target_distance</a></th><td>distance to give up on target</td></tr><tr><th><a href="datum/ai_controller.html#var/movement_cooldown">movement_cooldown</a></th><td>Cooldown until next movement</td></tr><tr><th><a href="datum/ai_controller.html#var/non_mob_movement_delay">non_mob_movement_delay</a></th><td>Movement delay used by NON MOBS, use get_movement_delay()</td></tr><tr><th><a href="datum/ai_controller.html#var/paused_until">paused_until</a></th><td>AI paused time</td></tr><tr><th><a href="datum/ai_controller.html#var/pawn">pawn</a></th><td>The atom this controller is controlling</td></tr><tr><th><a href="datum/ai_controller.html#var/planning_subtrees">planning_subtrees</a></th><td>All subtrees this AI has available, will run them in order, so make sure they're in the order you want them to run. On initialization of this type, it will start as a typepath(s) and get converted to references of ai_subtrees found in SSai_controllers when init_subtrees() is called</td></tr><tr><th><a href="datum/ai_controller.html#var/target_search_radius">target_search_radius</a></th><td>The search radius when looking for interesting things.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/ai_controller.html#proc/PawnClick">PawnClick</a></th><td>Interact with objects</td></tr><tr><th><a href="datum/ai_controller.html#proc/PossessPawn">PossessPawn</a></th><td>Proc to move from one pawn to another, this will destroy the target's existing controller.</td></tr><tr><th><a href="datum/ai_controller.html#proc/ProcessBehaviorSelection">ProcessBehaviorSelection</a></th><td>This is where you decide what actions are taken by the AI.</td></tr><tr><th><a href="datum/ai_controller.html#proc/TryPossessPawn">TryPossessPawn</a></th><td>Abstract proc for initializing the pawn to the new controller</td></tr><tr><th><a href="datum/ai_controller.html#proc/UnpossessPawn">UnpossessPawn</a></th><td>Proc for deinitializing the pawn to the old controller</td></tr><tr><th><a href="datum/ai_controller.html#proc/able_to_plan">able_to_plan</a></th><td>Determines whether the AI can currently make a new plan</td></tr><tr><th><a href="datum/ai_controller.html#proc/able_to_run">able_to_run</a></th><td>Returns TRUE if the ai controller can actually run at the moment.</td></tr><tr><th><a href="datum/ai_controller.html#proc/add_blackboard_key">add_blackboard_key</a></th><td>Adds the passed &quot;thing&quot; to the associated key</td></tr><tr><th><a href="datum/ai_controller.html#proc/add_blackboard_key_assoc">add_blackboard_key_assoc</a></th><td>Adds the value to the inner list at key with the inner key set to &quot;thing&quot;
Throws an error if the key is not a list already, intended only for use with lists</td></tr><tr><th><a href="datum/ai_controller.html#proc/add_blackboard_key_assoc_lazylist">add_blackboard_key_assoc_lazylist</a></th><td>Similar to [proc/add_blackboard_key_assoc], assuming key is intended to be a lazylist (so it will create a list)
More dangerous / easier to override values, only use when you want to use a lazylist</td></tr><tr><th><a href="datum/ai_controller.html#proc/add_blackboard_key_lazylist">add_blackboard_key_lazylist</a></th><td>Adds the passed &quot;thing&quot; to the associated key, assuming key is intended to be a lazylist (so it will create a list)
More dangerous / easier to override values, only use when you want to use a lazylist</td></tr><tr><th><a href="datum/ai_controller.html#proc/ai_can_interact">ai_can_interact</a></th><td>Can this pawn interact with objects?</td></tr><tr><th><a href="datum/ai_controller.html#proc/blackboard_key_exists">blackboard_key_exists</a></th><td>Returns true if we have a blackboard key with the provided key and it is not qdeleting</td></tr><tr><th><a href="datum/ai_controller.html#proc/change_ai_movement_type">change_ai_movement_type</a></th><td>Overrides the current ai_movement of this controller with a new one</td></tr><tr><th><a href="datum/ai_controller.html#proc/clear_blackboard_key">clear_blackboard_key</a></th><td>Clears the passed key, resetting it to null</td></tr><tr><th><a href="datum/ai_controller.html#proc/get_access">get_access</a></th><td>Use this proc to define how your controller defines what access the pawn has for the sake of pathfinding, likely pointing to whatever ID slot is relevant</td></tr><tr><th><a href="datum/ai_controller.html#proc/get_minimum_distance">get_minimum_distance</a></th><td>Returns the minimum required distance to preform one of our current behaviors. Honestly this should just be cached or something but fuck you</td></tr><tr><th><a href="datum/ai_controller.html#proc/init_subtrees">init_subtrees</a></th><td>Loops over the subtrees in planning_subtrees and looks at the ai_controllers to grab a reference, ENSURE planning_subtrees ARE TYPEPATHS AND NOT INSTANCES/REFERENCES BEFORE EXECUTING THIS</td></tr><tr><th><a href="datum/ai_controller.html#proc/insert_blackboard_key">insert_blackboard_key</a></th><td>Similar to [proc/add_blackboard_key], but performs an insertion rather than an add
Throws an error if the key is not a list already, intended only for use with lists</td></tr><tr><th><a href="datum/ai_controller.html#proc/insert_blackboard_key_lazylist">insert_blackboard_key_lazylist</a></th><td>Similar to [proc/insert_blackboard_key_lazylist], but performs an insertion / or rather than an add</td></tr><tr><th><a href="datum/ai_controller.html#proc/override_blackboard_key">override_blackboard_key</a></th><td>Helper to force a key to be a certain thing no matter what's already there</td></tr><tr><th><a href="datum/ai_controller.html#proc/post_blackboard_key_set">post_blackboard_key_set</a></th><td>Called after we set a blackboard key, forwards signal information.</td></tr><tr><th><a href="datum/ai_controller.html#proc/process">process</a></th><td>This is called by SSai_behaviors/fire(). It is the core of mob AI.</td></tr><tr><th><a href="datum/ai_controller.html#proc/queue_behavior">queue_behavior</a></th><td>Call this to add a behavior to the stack.</td></tr><tr><th><a href="datum/ai_controller.html#proc/remove_from_blackboard_lazylist_key">remove_from_blackboard_lazylist_key</a></th><td>removes a tracked object from a lazylist</td></tr><tr><th><a href="datum/ai_controller.html#proc/remove_thing_from_blackboard_key">remove_thing_from_blackboard_key</a></th><td>Remove the passed thing from the associated blackboard key</td></tr><tr><th><a href="datum/ai_controller.html#proc/replace_planning_subtrees">replace_planning_subtrees</a></th><td>Completely replaces the planning_subtrees with a new set based on argument provided, list provided must contain specifically typepaths</td></tr><tr><th><a href="datum/ai_controller.html#proc/set_ai_status">set_ai_status</a></th><td>This proc handles changing ai status, and starts/stops processing if required.</td></tr><tr><th><a href="datum/ai_controller.html#proc/set_blackboard_key">set_blackboard_key</a></th><td>Sets the key to the passed &quot;thing&quot;.</td></tr><tr><th><a href="datum/ai_controller.html#proc/set_blackboard_key_assoc">set_blackboard_key_assoc</a></th><td>Sets the key at index thing to the passed value</td></tr><tr><th><a href="datum/ai_controller.html#proc/set_blackboard_key_assoc_lazylist">set_blackboard_key_assoc_lazylist</a></th><td>Similar to [proc/set_blackboard_key_assoc] but operates under the assumption the key is a lazylist (so it will create a list)
More dangerous / easier to override values, only use when you want to use a lazylist</td></tr><tr><th><a href="datum/ai_controller.html#proc/set_move_target">set_move_target</a></th><td>Sets the AI to move towards the passed atom.</td></tr><tr><th><a href="datum/ai_controller.html#proc/sig_remove_from_blackboard">sig_remove_from_blackboard</a></th><td>Signal proc to go through every key and remove the datum from all keys it finds</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/ai_movement"><aside class="declaration">var </aside>ai_movement <aside>– /<a href="datum.html">datum</a>/<a href="datum/ai_movement.html">ai_movement</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L55"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 55"></a></h3><p>Reference to the movement datum we use. Is a type on initialize but becomes a ref afterwards.</p><h3 id="var/ai_status"><aside class="declaration">var </aside>ai_status <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 14"></a></h3><p>Current status of AI (OFF/ON)</p><h3 id="var/ai_traits"><aside class="declaration">var </aside>ai_traits <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L12"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 12"></a></h3><p>Bitfield of traits for this AI to handle extra behavior</p><h3 id="var/behavior_args"><aside class="declaration">var </aside>behavior_args <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 37"></a></h3><p>Stored arguments for behaviors given during their initial creation</p><h3 id="var/behavior_cooldowns"><aside class="declaration">var </aside>behavior_cooldowns <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 22"></a></h3><p>Current actions and their respective last time ran as an assoc list.</p><h3 id="var/blackboard"><aside class="declaration">var </aside>blackboard <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L35"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 35"></a></h3><p>This is a list of variables the AI uses and can be mutated by actions.</p>
<p>When an action is performed you pass this list and any relevant keys for the variables it can mutate.</p>
<p>DO NOT set values in the blackboard directly, and especially not if you're adding a datum reference to this!
Use the setters, in _ai_controller_blackboard.dm!!!</p><h3 id="var/consecutive_pathing_attempts"><aside class="declaration">var </aside>consecutive_pathing_attempts <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L40"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 40"></a></h3><p>Tracks recent pathing attempts, if we fail too many in a row we fail our current plans.</p><h3 id="var/continue_processing_when_client"><aside class="declaration">var </aside>continue_processing_when_client <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L42"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 42"></a></h3><p>Can the AI remain in control if there is a client?</p><h3 id="var/current_behaviors"><aside class="declaration">var </aside>current_behaviors <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 20"></a></h3><p>Current actions being performed by the AI.</p><h3 id="var/current_movement_target"><aside class="declaration">var </aside>current_movement_target <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L24"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 24"></a></h3><p>Current movement target of the AI, generally set by decision making.</p><h3 id="var/default_behavior"><aside class="declaration">var </aside>default_behavior <aside>– /<a href="datum.html">datum</a>/<a href="datum/ai_behavior.html">ai_behavior</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 17"></a></h3><p>The default behavior to execute when there's nothing else to do.</p><h3 id="var/failed_planning_cooldown"><aside class="declaration">var </aside>failed_planning_cooldown <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L49"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 49"></a></h3><p>Cooldown for new plans, to prevent AI from going nuts if it can't think of new plans and looping on end</p><h3 id="var/max_target_distance"><aside class="declaration">var </aside>max_target_distance <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L44"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 44"></a></h3><p>distance to give up on target</p><h3 id="var/movement_cooldown"><aside class="declaration">var </aside>movement_cooldown <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L58"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 58"></a></h3><p>Cooldown until next movement</p><h3 id="var/non_mob_movement_delay"><aside class="declaration">var </aside>non_mob_movement_delay <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L60"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 60"></a></h3><p>Movement delay used by NON MOBS, use get_movement_delay()</p><h3 id="var/paused_until"><aside class="declaration">var </aside>paused_until <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L64"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 64"></a></h3><p>AI paused time</p><h3 id="var/pawn"><aside class="declaration">var </aside>pawn <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 9"></a></h3><p>The atom this controller is controlling</p><h3 id="var/planning_subtrees"><aside class="declaration">var </aside>planning_subtrees <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L51"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 51"></a></h3><p>All subtrees this AI has available, will run them in order, so make sure they're in the order you want them to run. On initialization of this type, it will start as a typepath(s) and get converted to references of ai_subtrees found in SSai_controllers when init_subtrees() is called</p><h3 id="var/target_search_radius"><aside class="declaration">var </aside>target_search_radius <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L46"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 46"></a></h3><p>The search radius when looking for interesting things.</p><h2 id="proc">Proc Details</h2><h3 id="proc/PawnClick"><aside class="declaration">proc </aside>PawnClick<aside>(target, combat_mode, /list/modifiers)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L381"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 381"></a></aside></h3><p>Interact with objects</p><h3 id="proc/PossessPawn"><aside class="declaration">proc </aside>PossessPawn<aside>(/<a href="atom.html">atom</a>/new_pawn)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L106"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 106"></a></aside></h3><p>Proc to move from one pawn to another, this will destroy the target's existing controller.</p><h3 id="proc/ProcessBehaviorSelection"><aside class="declaration">proc </aside>ProcessBehaviorSelection<aside>(delta_time)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L214"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 214"></a></aside></h3><p>This is where you decide what actions are taken by the AI.</p><h3 id="proc/TryPossessPawn"><aside class="declaration">proc </aside>TryPossessPawn<aside>(/<a href="atom.html">atom</a>/new_pawn)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L133"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 133"></a></aside></h3><p>Abstract proc for initializing the pawn to the new controller</p><h3 id="proc/UnpossessPawn"><aside class="declaration">proc </aside>UnpossessPawn<aside>(destroy)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L137"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 137"></a></aside></h3><p>Proc for deinitializing the pawn to the old controller</p><h3 id="proc/able_to_plan"><aside class="declaration">proc </aside>able_to_plan<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L230"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 230"></a></aside></h3><p>Determines whether the AI can currently make a new plan</p><h3 id="proc/able_to_run"><aside class="declaration">proc </aside>able_to_run<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L148"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 148"></a></aside></h3><p>Returns TRUE if the ai controller can actually run at the moment.</p><h3 id="proc/add_blackboard_key"><aside class="declaration">proc </aside>add_blackboard_key<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L147"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 147"></a></aside></h3><p>Adds the passed &quot;thing&quot; to the associated key</p>
<p>Works with lists or numbers, but not lazylists.</p>
<ul>
<li>key - A blackboard key</li>
<li>thing - a value to set the blackboard key to.</li>
</ul><h3 id="proc/add_blackboard_key_assoc"><aside class="declaration">proc </aside>add_blackboard_key_assoc<aside>(key, thing, value)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L195"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 195"></a></aside></h3><p>Adds the value to the inner list at key with the inner key set to &quot;thing&quot;
Throws an error if the key is not a list already, intended only for use with lists</p>
<ul>
<li>key - A blackboard key, with its value set to a list</li>
<li>thing - a value which becomes the inner list value's key</li>
<li>value - what to set the inner list's value to</li>
</ul><h3 id="proc/add_blackboard_key_assoc_lazylist"><aside class="declaration">proc </aside>add_blackboard_key_assoc_lazylist<aside>(key, thing, value)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L211"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 211"></a></aside></h3><p>Similar to [proc/add_blackboard_key_assoc], assuming key is intended to be a lazylist (so it will create a list)
More dangerous / easier to override values, only use when you want to use a lazylist</p>
<ul>
<li>key - A blackboard key, with its value set to a list</li>
<li>thing - a value which becomes the inner list value's key</li>
<li>value - what to set the inner list's value to</li>
</ul><h3 id="proc/add_blackboard_key_lazylist"><aside class="declaration">proc </aside>add_blackboard_key_lazylist<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L171"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 171"></a></aside></h3><p>Adds the passed &quot;thing&quot; to the associated key, assuming key is intended to be a lazylist (so it will create a list)
More dangerous / easier to override values, only use when you want to use a lazylist</p>
<ul>
<li>key - A blackboard key</li>
<li>thing - a value to set the blackboard key to.</li>
</ul><h3 id="proc/ai_can_interact"><aside class="declaration">proc </aside>ai_can_interact<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L376"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 376"></a></aside></h3><p>Can this pawn interact with objects?</p><h3 id="proc/blackboard_key_exists"><aside class="declaration">proc </aside>blackboard_key_exists<aside>(key)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L2"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 2"></a></aside></h3><p>Returns true if we have a blackboard key with the provided key and it is not qdeleting</p><h3 id="proc/change_ai_movement_type"><aside class="declaration">proc </aside>change_ai_movement_type<aside>(/<a href="datum.html">datum</a>/<a href="datum/ai_movement.html">ai_movement</a>/new_movement)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L85"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 85"></a></aside></h3><p>Overrides the current ai_movement of this controller with a new one</p><h3 id="proc/clear_blackboard_key"><aside class="declaration">proc </aside>clear_blackboard_key<aside>(key)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L224"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 224"></a></aside></h3><p>Clears the passed key, resetting it to null</p>
<p>Not intended for use with list keys - use [proc/remove_thing_from_blackboard_key] if you are removing a value from a list at a key</p>
<ul>
<li>key - A blackboard key</li>
</ul><h3 id="proc/get_access"><aside class="declaration">proc </aside>get_access<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L439"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 439"></a></aside></h3><p>Use this proc to define how your controller defines what access the pawn has for the sake of pathfinding, likely pointing to whatever ID slot is relevant</p><h3 id="proc/get_minimum_distance"><aside class="declaration">proc </aside>get_minimum_distance<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L446"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 446"></a></aside></h3><p>Returns the minimum required distance to preform one of our current behaviors. Honestly this should just be cached or something but fuck you</p><h3 id="proc/init_subtrees"><aside class="declaration">proc </aside>init_subtrees<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L94"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 94"></a></aside></h3><p>Loops over the subtrees in planning_subtrees and looks at the ai_controllers to grab a reference, ENSURE planning_subtrees ARE TYPEPATHS AND NOT INSTANCES/REFERENCES BEFORE EXECUTING THIS</p><h3 id="proc/insert_blackboard_key"><aside class="declaration">proc </aside>insert_blackboard_key<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L158"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 158"></a></aside></h3><p>Similar to [proc/add_blackboard_key], but performs an insertion rather than an add
Throws an error if the key is not a list already, intended only for use with lists</p>
<ul>
<li>key - A blackboard key, with its value set to a list</li>
<li>thing - a value to set the blackboard key to.</li>
</ul><h3 id="proc/insert_blackboard_key_lazylist"><aside class="declaration">proc </aside>insert_blackboard_key_lazylist<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L182"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 182"></a></aside></h3><p>Similar to [proc/insert_blackboard_key_lazylist], but performs an insertion / or rather than an add</p>
<ul>
<li>key - A blackboard key</li>
<li>thing - a value to set the blackboard key to.</li>
</ul><h3 id="proc/override_blackboard_key"><aside class="declaration">proc </aside>override_blackboard_key<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L84"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 84"></a></aside></h3><p>Helper to force a key to be a certain thing no matter what's already there</p>
<p>Useful for if you're overriding a list with a new list entirely,
as otherwise it would throw a runtime error from trying to override a list</p>
<p>Not necessary to use if you aren't dealing with lists, as set_blackboard_key will clear the existing value
in that case already, but may be useful for clarity.</p>
<ul>
<li>key - A blackboard key</li>
<li>thing - a value to set the blackboard key to.</li>
</ul><h3 id="proc/post_blackboard_key_set"><aside class="declaration">proc </aside>post_blackboard_key_set<aside>(key)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L134"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 134"></a></aside></h3><p>Called after we set a blackboard key, forwards signal information.</p><h3 id="proc/process"><aside class="parent"><a title="/datum" href="datum.html#proc/process">↑</a></aside>process<aside>(delta_time)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L165"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 165"></a></aside></h3><p>This is called by SSai_behaviors/fire(). It is the core of mob AI.</p><h3 id="proc/queue_behavior"><aside class="declaration">proc </aside>queue_behavior<aside>(behavior_type, ...)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L285"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 285"></a></aside></h3><p>Call this to add a behavior to the stack.</p><h3 id="proc/remove_from_blackboard_lazylist_key"><aside class="declaration">proc </aside>remove_from_blackboard_lazylist_key<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L270"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 270"></a></aside></h3><p>removes a tracked object from a lazylist</p><h3 id="proc/remove_thing_from_blackboard_key"><aside class="declaration">proc </aside>remove_thing_from_blackboard_key<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L243"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 243"></a></aside></h3><p>Remove the passed thing from the associated blackboard key</p>
<p>Intended for use with lists, if you're just clearing a reference from a key use [proc/clear_blackboard_key]</p>
<ul>
<li>key - A blackboard key</li>
<li>thing - a value to set the blackboard key to.</li>
</ul><h3 id="proc/replace_planning_subtrees"><aside class="declaration">proc </aside>replace_planning_subtrees<aside>(/list/typepaths_of_new_subtrees)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L89"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 89"></a></aside></h3><p>Completely replaces the planning_subtrees with a new set based on argument provided, list provided must contain specifically typepaths</p><h3 id="proc/set_ai_status"><aside class="declaration">proc </aside>set_ai_status<aside>(new_ai_status)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L244"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 244"></a></aside></h3><p>This proc handles changing ai status, and starts/stops processing if required.</p><h3 id="proc/set_blackboard_key"><aside class="declaration">proc </aside>set_blackboard_key<aside>(key, thing)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L56"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 56"></a></aside></h3><p>Sets the key to the passed &quot;thing&quot;.</p>
<ul>
<li>key - A blackboard key</li>
<li>thing - a value to set the blackboard key to.</li>
</ul><h3 id="proc/set_blackboard_key_assoc"><aside class="declaration">proc </aside>set_blackboard_key_assoc<aside>(key, thing, value)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L100"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 100"></a></aside></h3><p>Sets the key at index thing to the passed value</p>
<p>Assumes the key value is already a list, if not throws an error.</p>
<ul>
<li>key - A blackboard key, with its value set to a list</li>
<li>thing - a value which becomes the inner list value's key</li>
<li>value - what to set the inner list's value to</li>
</ul><h3 id="proc/set_blackboard_key_assoc_lazylist"><aside class="declaration">proc </aside>set_blackboard_key_assoc_lazylist<aside>(key, thing, value)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L120"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 120"></a></aside></h3><p>Similar to [proc/set_blackboard_key_assoc] but operates under the assumption the key is a lazylist (so it will create a list)
More dangerous / easier to override values, only use when you want to use a lazylist</p>
<ul>
<li>key - A blackboard key, with its value set to a list</li>
<li>thing - a value which becomes the inner list value's key</li>
<li>value - what to set the inner list's value to</li>
</ul><h3 id="proc/set_move_target"><aside class="declaration">proc </aside>set_move_target<aside>(/<a href="atom.html">atom</a>/target)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller.dm#L267"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller.dm 267"></a></aside></h3><p>Sets the AI to move towards the passed atom.</p><h3 id="proc/sig_remove_from_blackboard"><aside class="declaration">proc </aside>sig_remove_from_blackboard<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/ai/_ai_controller_blackboard.dm#L283"><img src="git.png" width="16" height="16" title="code/datums/ai/_ai_controller_blackboard.dm 283"></a></aside></h3><p>Signal proc to go through every key and remove the datum from all keys it finds</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/a11ad7c401daeb2805315aa8820f21ea7c1bf233">a11ad7c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>