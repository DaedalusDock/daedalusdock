<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/materials - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/materials.html#var">Var Details</a> - <a href="datum/controller/subsystem/materials.html#proc">Proc Details</a></header><main><h1>materials <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/materials.html">materials</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L8"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 8"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/base_stack_recipes">base_stack_recipes</a></th><td>List of stackcrafting recipes for materials using base recipes</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/material_combos">material_combos</a></th><td>A cache of all material combinations that have been used</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/materialids_by_category">materialids_by_category</a></th><td>Dictionary of category || list of material ids, mostly used by rnd machines like autolathes.</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/materialids_by_type">materialids_by_type</a></th><td>Dictionary of type || list of material ids</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/materials">materials</a></th><td>Dictionary of material.id || material ref</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/materials_by_category">materials_by_category</a></th><td>Dictionary of category || list of material refs</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/materials_by_type">materials_by_type</a></th><td>Dictionary of type || list of material refs</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/rigid_stack_recipes">rigid_stack_recipes</a></th><td>List of stackcrafting recipes for materials using rigid recipes</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#var/template_paths_by_rarity">template_paths_by_rarity</a></th><td>Blank versions of all of the mining templates, indexed by rarity.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/materials.html#proc/FindOrCreateMaterialCombo">FindOrCreateMaterialCombo</a></th><td>Returns a list to be used as an object's custom_materials. Lists will be cached and re-used based on the parameters.</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#proc/GetIdFromArguments">GetIdFromArguments</a></th><td>Generates a unique ID from a list of arguments. Does not support passing in lists.</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#proc/GetMaterialName">GetMaterialName</a></th><td>Returns the name of a supplied material datum or reagent ID.</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#proc/InitializeMaterial">InitializeMaterial</a></th><td></td></tr><tr><th><a href="datum/controller/subsystem/materials.html#proc/InitializeMaterials">InitializeMaterials</a></th><td>Ran on initialize, populated the materials and materials_by_category dictionaries with their appropiate vars (See these variables for more info)</td></tr><tr><th><a href="datum/controller/subsystem/materials.html#proc/_GetMaterialRef">_GetMaterialRef</a></th><td></td></tr></table><h2 id="var">Var Details</h2><h3 id="var/base_stack_recipes"><aside class="declaration">var </aside>base_stack_recipes <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L25"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 25"></a></h3><p>List of stackcrafting recipes for materials using base recipes</p><h3 id="var/material_combos"><aside class="declaration">var </aside>material_combos <aside>– /list/list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L23"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 23"></a></h3><p>A cache of all material combinations that have been used</p><h3 id="var/materialids_by_category"><aside class="declaration">var </aside>materialids_by_category <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L21"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 21"></a></h3><p>Dictionary of category || list of material ids, mostly used by rnd machines like autolathes.</p><h3 id="var/materialids_by_type"><aside class="declaration">var </aside>materialids_by_type <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L17"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 17"></a></h3><p>Dictionary of type || list of material ids</p><h3 id="var/materials"><aside class="declaration">var </aside>materials <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L13"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 13"></a></h3><p>Dictionary of material.id || material ref</p><h3 id="var/materials_by_category"><aside class="declaration">var </aside>materials_by_category <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L19"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 19"></a></h3><p>Dictionary of category || list of material refs</p><h3 id="var/materials_by_type"><aside class="declaration">var </aside>materials_by_type <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L15"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 15"></a></h3><p>Dictionary of type || list of material refs</p><h3 id="var/rigid_stack_recipes"><aside class="declaration">var </aside>rigid_stack_recipes <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L32"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 32"></a></h3><p>List of stackcrafting recipes for materials using rigid recipes</p><h3 id="var/template_paths_by_rarity"><aside class="declaration">var </aside>template_paths_by_rarity <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L43"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 43"></a></h3><p>Blank versions of all of the mining templates, indexed by rarity.</p><h2 id="proc">Proc Details</h2><h3 id="proc/FindOrCreateMaterialCombo"><aside class="declaration">proc </aside>FindOrCreateMaterialCombo<aside>(/list/materials_declaration, multiplier)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L172"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 172"></a></aside></h3><p>Returns a list to be used as an object's custom_materials. Lists will be cached and re-used based on the parameters.</p><h3 id="proc/GetIdFromArguments"><aside class="declaration">proc </aside>GetIdFromArguments<aside>(...)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L152"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 152"></a></aside></h3><p>Generates a unique ID from a list of arguments. Does not support passing in lists.</p><h3 id="proc/GetMaterialName"><aside class="declaration">proc </aside>GetMaterialName<aside>(id_or_instance)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L199"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 199"></a></aside></h3><p>Returns the name of a supplied material datum or reagent ID.</p><h3 id="proc/InitializeMaterial"><aside class="declaration">proc </aside>InitializeMaterial<aside>(...)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L95"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 95"></a></aside></h3><ul>
<li>
<p>Creates and caches a material datum.</p>
</li>
<li>
<p>Arugments:</p>
</li>
<li>
<ul>
<li><a href="https://www.byond.com/docs/ref/#/list" title="/list">arguments</a>: The arguments to use to create the material datum</li>
</ul>
</li>
<li>
<ul>
<li>The first element is the type of material to initialize.</li>
</ul>
</li>
</ul><h3 id="proc/InitializeMaterials"><aside class="declaration">proc </aside>InitializeMaterials<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L75"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 75"></a></aside></h3><p>Ran on initialize, populated the materials and materials_by_category dictionaries with their appropiate vars (See these variables for more info)</p><h3 id="proc/_GetMaterialRef"><aside class="declaration">proc </aside>_GetMaterialRef<aside>(...)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/controllers/subsystem/materials.dm#L128"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/materials.dm 128"></a></aside></h3><ul>
<li>
<p>Fetches a cached material singleton when passed sufficient arguments.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<ul>
<li><a href="https://www.byond.com/docs/ref/#/list" title="/list">arguments</a>: The list of arguments used to fetch the material ref.</li>
</ul>
</li>
<li>
<ul>
<li>The first element is a material datum, text string, or material type.</li>
</ul>
</li>
<li>
<pre><code>- [Material datums][/datum/material] are assumed to be references to the cached datum and are returned
</code></pre>
</li>
<li>
<pre><code>- Text is assumed to be the text ID of a material and the corresponding material is fetched from the cache
</code></pre>
</li>
<li>
<pre><code>- A material type is checked for bespokeness:
</code></pre>
</li>
<li>
<pre><code>  - If the material type is not bespoke the type is assumed to be the id for a material and the corresponding material is loaded from the cache.
</code></pre>
</li>
<li>
<pre><code>  - If the material type is bespoke a text ID is generated from the arguments list and used to load a material datum from the cache.
</code></pre>
</li>
<li>
<ul>
<li>The following elements are used to generate bespoke IDs</li>
</ul>
</li>
</ul></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/a11ad7c401daeb2805315aa8820f21ea7c1bf233">a11ad7c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>