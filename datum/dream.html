<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/dream - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/dream.html#var">Var Details</a> - <a href="datum/dream.html#proc">Proc Details</a></header><main><h1>dream <aside>/<a href="datum.html">datum</a>/<a href="datum/dream.html">dream</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 28"></a></h1><p>Contains all the behavior needed to play a kind of dream.
All dream types get randomly selected from based on weight when an appropriate mobs dreams.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/dream.html#var/dream_class">dream_class</a></th><td>Controls who can roll this dream.</td></tr><tr><th><a href="datum/dream.html#var/sleep_until_finished">sleep_until_finished</a></th><td>Causes the mob to sleep long enough for the dream to finish if begun</td></tr><tr><th><a href="datum/dream.html#var/weight">weight</a></th><td>The relative chance this dream will be randomly selected</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/dream.html#proc/DreamLoop">DreamLoop</a></th><td>Displays the passed list of dream fragments to a sleeping carbon.</td></tr><tr><th><a href="datum/dream.html#proc/GenerateDream">GenerateDream</a></th><td>Called when beginning a new dream for the dreamer.
Gives back a list of dream events. Events can be text or callbacks that return text.
The associated value is the delay FOLLOWING the message at that index, in deciseconds.</td></tr><tr><th><a href="datum/dream.html#proc/OnDreamEnd">OnDreamEnd</a></th><td>Called when the dream ends or is interrupted.</td></tr><tr><th><a href="datum/dream.html#proc/OnDreamStart">OnDreamStart</a></th><td>Called when the dream starts.</td></tr><tr><th><a href="datum/dream.html#proc/WrapMessage">WrapMessage</a></th><td>Called by dream_sequence to wrap a message in any effects.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/dream_class"><aside class="declaration">var </aside>dream_class <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 34"></a></h3><p>Controls who can roll this dream.</p><h3 id="var/sleep_until_finished"><aside class="declaration">var </aside>sleep_until_finished <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 40"></a></h3><p>Causes the mob to sleep long enough for the dream to finish if begun</p><h3 id="var/weight"><aside class="declaration">var </aside>weight <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 37"></a></h3><p>The relative chance this dream will be randomly selected</p><h2 id="proc">Proc Details</h2><h3 id="proc/DreamLoop"><aside class="declaration">proc </aside>DreamLoop<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/dreamer, /<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a>/dreamer_mind, /list/dream_fragments)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L97"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 97"></a></aside></h3><p>Displays the passed list of dream fragments to a sleeping carbon.</p>
<p>Displays the first string of the passed dream fragments, then either ends the dream sequence
or performs a callback on itself depending on if there are any remaining dream fragments to display.</p>
<p>Arguments:</p>
<ul>
<li>dreamer - The mob we're looping on.</li>
<li>dreamer_mind - The mind that is dreaming.</li>
<li>dream_fragments - A list of strings, in the order they will be displayed.</li>
</ul><h3 id="proc/GenerateDream"><aside class="declaration">proc </aside>GenerateDream<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/dreamer) <span class="as"> as </span>/list <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 49"></a></aside></h3><p>Called when beginning a new dream for the dreamer.
Gives back a list of dream events. Events can be text or callbacks that return text.
The associated value is the delay FOLLOWING the message at that index, in deciseconds.</p><h3 id="proc/OnDreamEnd"><aside class="declaration">proc </aside>OnDreamEnd<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/dreamer, cut_short)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L63"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 63"></a></aside></h3><p>Called when the dream ends or is interrupted.</p><h3 id="proc/OnDreamStart"><aside class="declaration">proc </aside>OnDreamStart<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/dreamer)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 56"></a></aside></h3><p>Called when the dream starts.</p><h3 id="proc/WrapMessage"><aside class="declaration">proc </aside>WrapMessage<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/dreamer, message)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/dreams/_dream.dm#L75"><img src="git.png" width="16" height="16" title="code/modules/dreams/_dream.dm 75"></a></aside></h3><p>Called by dream_sequence to wrap a message in any effects.</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>