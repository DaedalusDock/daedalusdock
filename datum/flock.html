<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/flock - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/flock.html#var">Var Details</a> - <a href="datum/flock.html#proc">Proc Details</a></header><main><h1>flock <aside>/<a href="datum.html">datum</a>/<a href="datum/flock.html">flock</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 8"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/flock.html#var/active_pings">active_pings</a></th><td>A k:V list of client : image, see ping().</td></tr><tr><th><a href="datum/flock.html#var/bits">bits</a></th><td>The bits</td></tr><tr><th><a href="datum/flock.html#var/compute">compute</a></th><td>The total amount of computational power available, before whats being used.</td></tr><tr><th><a href="datum/flock.html#var/drones">drones</a></th><td>The drones</td></tr><tr><th><a href="datum/flock.html#var/enemies">enemies</a></th><td>A k:v list of mob : details, contains enemy mobs.</td></tr><tr><th><a href="datum/flock.html#var/ignores">ignores</a></th><td>A k:V list of mob : TRUE, where mob is mobs that ai will ignore.</td></tr><tr><th><a href="datum/flock.html#var/marked_for_deconstruction">marked_for_deconstruction</a></th><td>A k:V list of atoms the Overmind has marked for conversion, where the value is TRUE</td></tr><tr><th><a href="datum/flock.html#var/max_traces">max_traces</a></th><td>The maximum amount of traces allowed.</td></tr><tr><th><a href="datum/flock.html#var/notice_images">notice_images</a></th><td>Cache of images used by notices.</td></tr><tr><th><a href="datum/flock.html#var/overmind">overmind</a></th><td>The master of the flock</td></tr><tr><th><a href="datum/flock.html#var/structures">structures</a></th><td>Every structure we've built.</td></tr><tr><th><a href="datum/flock.html#var/traces">traces</a></th><td>The traces</td></tr><tr><th><a href="datum/flock.html#var/turf_reservations">turf_reservations</a></th><td>A k:V list of reserved_turf = TRUE.</td></tr><tr><th><a href="datum/flock.html#var/turf_reservations_by_flock">turf_reservations_by_flock</a></th><td>A k:V list of flock mobs to their reserved turf.</td></tr><tr><th><a href="datum/flock.html#var/ui_tab">ui_tab</a></th><td>Current UI tab, saves on data sending.</td></tr><tr><th><a href="datum/flock.html#var/used_compute">used_compute</a></th><td>The computational power being used.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/flock.html#proc/add_compute_influence">add_compute_influence</a></th><td>Wrapper for handling compute alongside used_compute for new mobs</td></tr><tr><th><a href="datum/flock.html#proc/available_compute">available_compute</a></th><td>Returns the amount of available compute. Can return negative if over budget.</td></tr><tr><th><a href="datum/flock.html#proc/can_afford">can_afford</a></th><td>Returns TRUE if the flock has the required compute</td></tr><tr><th><a href="datum/flock.html#proc/consider_game_over">consider_game_over</a></th><td>Ends the flock if it is unable to continue spreading.</td></tr><tr><th><a href="datum/flock.html#proc/convert_turf">convert_turf</a></th><td>Convert a turf and claim it for the flock.</td></tr><tr><th><a href="datum/flock.html#proc/free_turf">free_turf</a></th><td>Free a turf from reservation, allowing AI to target it again. override_turf can be given to lookup the user if there isnt a user in this context.</td></tr><tr><th><a href="datum/flock.html#proc/is_mob_enemy">is_mob_enemy</a></th><td>Returns TRUE if the given mob is an enemy.</td></tr><tr><th><a href="datum/flock.html#proc/is_mob_ignored">is_mob_ignored</a></th><td>Returns TRUE if the given mob is ignored by the flock.</td></tr><tr><th><a href="datum/flock.html#proc/is_turf_free">is_turf_free</a></th><td>Returns TRUE if the given turf is not reserved.</td></tr><tr><th><a href="datum/flock.html#proc/register_overmind">register_overmind</a></th><td>Sets the flock's overmind</td></tr><tr><th><a href="datum/flock.html#proc/remove_compute_influence">remove_compute_influence</a></th><td>Wrapper for handling compute alongside used_compute for mobs leaving the flock</td></tr><tr><th><a href="datum/flock.html#proc/reserve_turf">reserve_turf</a></th><td>Reserves a turf, making AI ignore it for the purposes of targetting.</td></tr><tr><th><a href="datum/flock.html#proc/start">start</a></th><td>Called after everything is setup, and clients are in control of their mobs.</td></tr><tr><th><a href="datum/flock.html#proc/update_enemy">update_enemy</a></th><td>Updates a mob's enemy status. If they are already an enemy, their entry will be updated with new information.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active_pings"><aside class="declaration">var </aside>active_pings <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 42"></a></h3><p>A k:V list of client : image, see ping().</p><h3 id="var/bits"><aside class="declaration">var </aside>bits <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 30"></a></h3><p>The bits</p><h3 id="var/compute"><aside class="declaration">var </aside>compute <aside>– /<a href="datum.html">datum</a>/point_holder</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 46"></a></h3><p>The total amount of computational power available, before whats being used.</p><h3 id="var/drones"><aside class="declaration">var </aside>drones <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 32"></a></h3><p>The drones</p><h3 id="var/enemies"><aside class="declaration">var </aside>enemies <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L37"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 37"></a></h3><p>A k:v list of mob : details, contains enemy mobs.</p><h3 id="var/ignores"><aside class="declaration">var </aside>ignores <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 39"></a></h3><p>A k:V list of mob : TRUE, where mob is mobs that ai will ignore.</p><h3 id="var/marked_for_deconstruction"><aside class="declaration">var </aside>marked_for_deconstruction <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 17"></a></h3><p>A k:V list of atoms the Overmind has marked for conversion, where the value is TRUE</p><h3 id="var/max_traces"><aside class="declaration">var </aside>max_traces <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 50"></a></h3><p>The maximum amount of traces allowed.</p><h3 id="var/notice_images"><aside class="declaration">var </aside>notice_images <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 15"></a></h3><p>Cache of images used by notices.</p><h3 id="var/overmind"><aside class="declaration">var </aside>overmind <aside>– /<a href="mob.html">mob</a>/<a href="mob/camera/flock/overmind.html">camera/flock/overmind</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 12"></a></h3><p>The master of the flock</p><h3 id="var/structures"><aside class="declaration">var </aside>structures <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 27"></a></h3><p>Every structure we've built.</p><h3 id="var/traces"><aside class="declaration">var </aside>traces <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 34"></a></h3><p>The traces</p><h3 id="var/turf_reservations"><aside class="declaration">var </aside>turf_reservations <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 19"></a></h3><p>A k:V list of reserved_turf = TRUE.</p><h3 id="var/turf_reservations_by_flock"><aside class="declaration">var </aside>turf_reservations_by_flock <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 21"></a></h3><p>A k:V list of flock mobs to their reserved turf.</p><h3 id="var/ui_tab"><aside class="declaration">var </aside>ui_tab <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L57"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 57"></a></h3><p>Current UI tab, saves on data sending.</p><h3 id="var/used_compute"><aside class="declaration">var </aside>used_compute <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 48"></a></h3><p>The computational power being used.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_compute_influence"><aside class="declaration">proc </aside>add_compute_influence<aside>(num)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L228"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 228"></a></aside></h3><p>Wrapper for handling compute alongside used_compute for new mobs</p><h3 id="proc/available_compute"><aside class="declaration">proc </aside>available_compute<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L257"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 257"></a></aside></h3><p>Returns the amount of available compute. Can return negative if over budget.</p><h3 id="proc/can_afford"><aside class="declaration">proc </aside>can_afford<aside>(amt)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L261"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 261"></a></aside></h3><p>Returns TRUE if the flock has the required compute</p><h3 id="proc/consider_game_over"><aside class="declaration">proc </aside>consider_game_over<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L450"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 450"></a></aside></h3><p>Ends the flock if it is unable to continue spreading.</p><h3 id="proc/convert_turf"><aside class="declaration">proc </aside>convert_turf<aside>(/<a href="turf.html">turf</a>/T)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L97"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 97"></a></aside></h3><p>Convert a turf and claim it for the flock.</p><h3 id="proc/free_turf"><aside class="declaration">proc </aside>free_turf<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/simple_animal.html">simple_animal</a>/<a href="mob/living/simple_animal/flock.html">flock</a>/user, /<a href="turf.html">turf</a>/override_turf)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L131"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 131"></a></aside></h3><p>Free a turf from reservation, allowing AI to target it again. override_turf can be given to lookup the user if there isnt a user in this context.</p><h3 id="proc/is_mob_enemy"><aside class="declaration">proc </aside>is_mob_enemy<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L157"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 157"></a></aside></h3><p>Returns TRUE if the given mob is an enemy.</p><h3 id="proc/is_mob_ignored"><aside class="declaration">proc </aside>is_mob_ignored<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L161"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 161"></a></aside></h3><p>Returns TRUE if the given mob is ignored by the flock.</p><h3 id="proc/is_turf_free"><aside class="declaration">proc </aside>is_turf_free<aside>(/<a href="turf.html">turf</a>/T)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L153"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 153"></a></aside></h3><p>Returns TRUE if the given turf is not reserved.</p><h3 id="proc/register_overmind"><aside class="declaration">proc </aside>register_overmind<aside>(/<a href="mob.html">mob</a>/camera/flock_overmind)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L265"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 265"></a></aside></h3><p>Sets the flock's overmind</p><h3 id="proc/remove_compute_influence"><aside class="declaration">proc </aside>remove_compute_influence<aside>(num)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L237"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 237"></a></aside></h3><p>Wrapper for handling compute alongside used_compute for mobs leaving the flock</p><h3 id="proc/reserve_turf"><aside class="declaration">proc </aside>reserve_turf<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/simple_animal.html">simple_animal</a>/<a href="mob/living/simple_animal/flock.html">flock</a>/user, /<a href="turf.html">turf</a>/target)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 118"></a></aside></h3><p>Reserves a turf, making AI ignore it for the purposes of targetting.</p><h3 id="proc/start"><aside class="declaration">proc </aside>start<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L89"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 89"></a></aside></h3><p>Called after everything is setup, and clients are in control of their mobs.</p><h3 id="proc/update_enemy"><aside class="declaration">proc </aside>update_enemy<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/enemy)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/flockmind/flock_controller/_flock_controller.dm#L269"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 269"></a></aside></h3><p>Updates a mob's enemy status. If they are already an enemy, their entry will be updated with new information.</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>