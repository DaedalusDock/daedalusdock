<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/flock - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/flock.html#var">Var Details</a> - <a href="datum/flock.html#proc">Proc Details</a></header><main><h1>flock <aside>/<a href="datum.html">datum</a>/<a href="datum/flock.html">flock</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 8"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/flock.html#var/active_pings">active_pings</a></th><td>A k:V list of client : image, see ping().</td></tr><tr><th><a href="datum/flock.html#var/bandwidth">bandwidth</a></th><td>The total amount of computational power available, before whats being used.</td></tr><tr><th><a href="datum/flock.html#var/bits">bits</a></th><td>The bits</td></tr><tr><th><a href="datum/flock.html#var/current_egg_cost">current_egg_cost</a></th><td>The current substrate cost to lay an egg.</td></tr><tr><th><a href="datum/flock.html#var/drones">drones</a></th><td>The drones</td></tr><tr><th><a href="datum/flock.html#var/enemies">enemies</a></th><td>A k:v list of mob : details, contains enemy mobs.</td></tr><tr><th><a href="datum/flock.html#var/flock_game_status">flock_game_status</a></th><td>Flock status, won, lost, etc</td></tr><tr><th><a href="datum/flock.html#var/ignores">ignores</a></th><td>A k:V list of mob : TRUE, where mob is mobs that ai will ignore.</td></tr><tr><th><a href="datum/flock.html#var/marked_for_conversion">marked_for_conversion</a></th><td>A k:V list of atoms the Overmind has marked for conversion, where the value is TRUE</td></tr><tr><th><a href="datum/flock.html#var/marked_for_deconstruction">marked_for_deconstruction</a></th><td>A k:v list of atoms the Overmind has marked for deconstruction, where the value is TRUE</td></tr><tr><th><a href="datum/flock.html#var/max_traces">max_traces</a></th><td>The maximum amount of traces allowed.</td></tr><tr><th><a href="datum/flock.html#var/notice_images">notice_images</a></th><td>Cache of images used by notices.</td></tr><tr><th><a href="datum/flock.html#var/overmind">overmind</a></th><td>The master of the flock</td></tr><tr><th><a href="datum/flock.html#var/structures">structures</a></th><td>Every structure we've built.</td></tr><tr><th><a href="datum/flock.html#var/traces">traces</a></th><td>The traces</td></tr><tr><th><a href="datum/flock.html#var/turf_reservations">turf_reservations</a></th><td>A k:V list of reserved_turf = TRUE.</td></tr><tr><th><a href="datum/flock.html#var/turf_reservations_by_flock">turf_reservations_by_flock</a></th><td>A k:V list of flock mobs to their reserved turf.</td></tr><tr><th><a href="datum/flock.html#var/ui_tab">ui_tab</a></th><td>Current UI tab, saves on data sending.</td></tr><tr><th><a href="datum/flock.html#var/used_bandwidth">used_bandwidth</a></th><td>The computational power being used.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/flock.html#proc/add_bandwidth_influence">add_bandwidth_influence</a></th><td>Wrapper for handling bandwidth alongside used_bandwidth for new mobs</td></tr><tr><th><a href="datum/flock.html#proc/add_ignore">add_ignore</a></th><td>Adds a mob to the ignored list.</td></tr><tr><th><a href="datum/flock.html#proc/add_notice">add_notice</a></th><td>Places a flock notice on an atom. See flock_defines.dm</td></tr><tr><th><a href="datum/flock.html#proc/add_ping_image">add_ping_image</a></th><td>Helper for adding a ping image to a client's screen and handling clean up.</td></tr><tr><th><a href="datum/flock.html#proc/add_structure">add_structure</a></th><td>Add a structure to the flock.</td></tr><tr><th><a href="datum/flock.html#proc/add_unit">add_unit</a></th><td>Adds a unit to the flock and sets up all of the tracking.</td></tr><tr><th><a href="datum/flock.html#proc/available_bandwidth">available_bandwidth</a></th><td>Returns the amount of available bandwidth. Can return negative if over budget.</td></tr><tr><th><a href="datum/flock.html#proc/can_afford">can_afford</a></th><td>Returns TRUE if the flock has the required bandwidth</td></tr><tr><th><a href="datum/flock.html#proc/claim_turf">claim_turf</a></th><td>Claim it for the flock, optionally converting it. Converting should only be avoided if the turf is already a flockturf.</td></tr><tr><th><a href="datum/flock.html#proc/claimed_turf_change">claimed_turf_change</a></th><td>Called when a turf owned by the flock changes.</td></tr><tr><th><a href="datum/flock.html#proc/cleanup_ping_images">cleanup_ping_images</a></th><td>Called by add_ping_image via timer callback.</td></tr><tr><th><a href="datum/flock.html#proc/consider_game_over">consider_game_over</a></th><td>Ends the flock if it is unable to continue spreading.</td></tr><tr><th><a href="datum/flock.html#proc/create_hud_images">create_hud_images</a></th><td>Instantiates all of the flock notice image singletons.</td></tr><tr><th><a href="datum/flock.html#proc/create_structure">create_structure</a></th><td>Wrapper for spawning a tealprint, used by Create Structure</td></tr><tr><th><a href="datum/flock.html#proc/deconstruct_mark_deleted">deconstruct_mark_deleted</a></th><td>Called when an atom marked for deconstruction is qdeleted.</td></tr><tr><th><a href="datum/flock.html#proc/free_structure">free_structure</a></th><td>Remove a structure from the flock.</td></tr><tr><th><a href="datum/flock.html#proc/free_turf">free_turf</a></th><td>Free a turf from reservation, allowing AI to target it again. override_turf can be given to lookup the user if there isnt a user in this context.</td></tr><tr><th><a href="datum/flock.html#proc/free_unit">free_unit</a></th><td>Removes a unit from the flock.</td></tr><tr><th><a href="datum/flock.html#proc/game_over">game_over</a></th><td>Kills off the flock. Pass completely_destroy = FALSE to allow the overmind to live on.</td></tr><tr><th><a href="datum/flock.html#proc/get_egg_elligibility_cost">get_egg_elligibility_cost</a></th><td>Returns the substract requirement to be able to spend substrate on an egg. See above proc.</td></tr><tr><th><a href="datum/flock.html#proc/get_priority_turfs">get_priority_turfs</a></th><td>Returns a list of turfs marked for conversion, minus turfs that drones have already reserved.</td></tr><tr><th><a href="datum/flock.html#proc/get_total_health_percentage">get_total_health_percentage</a></th><td>Returns the total percentage of the sum of every mob's health and max health.</td></tr><tr><th><a href="datum/flock.html#proc/get_total_substrate">get_total_substrate</a></th><td>Returns the total amount of substrate by all flock mobs.</td></tr><tr><th><a href="datum/flock.html#proc/is_mob_enemy">is_mob_enemy</a></th><td>Returns TRUE if the given mob is an enemy.</td></tr><tr><th><a href="datum/flock.html#proc/is_mob_ignored">is_mob_ignored</a></th><td>Returns TRUE if the given mob is ignored by the flock.</td></tr><tr><th><a href="datum/flock.html#proc/is_on_safe_z">is_on_safe_z</a></th><td>Checks to see if the given atom is allowed to be there. Has lots of behavior like making drones dormant and snapping traces back to the station.</td></tr><tr><th><a href="datum/flock.html#proc/is_turf_free">is_turf_free</a></th><td>Returns TRUE if the given turf is not reserved.</td></tr><tr><th><a href="datum/flock.html#proc/on_client_gone">on_client_gone</a></th><td>Called when a client holding a ping image disconnects.</td></tr><tr><th><a href="datum/flock.html#proc/on_enemy_gone">on_enemy_gone</a></th><td>Called when an enemy atom is deleted.</td></tr><tr><th><a href="datum/flock.html#proc/on_ignore_gone">on_ignore_gone</a></th><td>Called when an ignored mob is deleted.</td></tr><tr><th><a href="datum/flock.html#proc/on_unit_death">on_unit_death</a></th><td>Called when a unit under the flock's control dies.</td></tr><tr><th><a href="datum/flock.html#proc/ping">ping</a></th><td>Pings a location, alerting all flocktraces.</td></tr><tr><th><a href="datum/flock.html#proc/refresh_unlockables">refresh_unlockables</a></th><td>Refreshes the status of every unlockable.</td></tr><tr><th><a href="datum/flock.html#proc/register_overmind">register_overmind</a></th><td>Sets the flock's overmind</td></tr><tr><th><a href="datum/flock.html#proc/remove_bandwidth_influence">remove_bandwidth_influence</a></th><td>Wrapper for handling bandwidth alongside used_bandwidth for mobs leaving the flock</td></tr><tr><th><a href="datum/flock.html#proc/remove_enemy">remove_enemy</a></th><td>Removes an atom from the enemies list.</td></tr><tr><th><a href="datum/flock.html#proc/remove_ignore">remove_ignore</a></th><td>Removes a mob from the ignore list.</td></tr><tr><th><a href="datum/flock.html#proc/remove_notice">remove_notice</a></th><td>Removes a flock notice from an atom.</td></tr><tr><th><a href="datum/flock.html#proc/reserve_turf">reserve_turf</a></th><td>Reserves a turf, making AI ignore it for the purposes of targetting.</td></tr><tr><th><a href="datum/flock.html#proc/reserved_turf_change">reserved_turf_change</a></th><td>Called when a turf reserved by a flock mob changes.</td></tr><tr><th><a href="datum/flock.html#proc/set_flock_game_status">set_flock_game_status</a></th><td>Setter for flock_game_status.</td></tr><tr><th><a href="datum/flock.html#proc/start">start</a></th><td>Called after everything is setup, and clients are in control of their mobs.</td></tr><tr><th><a href="datum/flock.html#proc/stop_tracking_turf">stop_tracking_turf</a></th><td>Stop tracking a turf that is in our claimed walls or claimed floors lists.</td></tr><tr><th><a href="datum/flock.html#proc/toggle_deconstruction_mark">toggle_deconstruction_mark</a></th><td>(un)Mark a flock atom for deconstruction. Returns FALSE if it cannot be deconstructed.</td></tr><tr><th><a href="datum/flock.html#proc/total_bandwidth">total_bandwidth</a></th><td>Returns the total amount of bandwidth, including bandwidth being used.</td></tr><tr><th><a href="datum/flock.html#proc/update_egg_cost">update_egg_cost</a></th><td>Updates the substrate cost of an egg given the current status of the flock.</td></tr><tr><th><a href="datum/flock.html#proc/update_enemy">update_enemy</a></th><td>Updates a mob's enemy status. If they are already an enemy, their entry will be updated with new information.</td></tr><tr><th><a href="datum/flock.html#proc/update_relay_huds">update_relay_huds</a></th><td>Update the relay status huds for all flock traces and the overmind.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active_pings"><aside class="declaration">var </aside>active_pings <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 44"></a></h3><p>A k:V list of client : image, see ping().</p><h3 id="var/bandwidth"><aside class="declaration">var </aside>bandwidth <aside>– /<a href="datum.html">datum</a>/<a href="datum/point_holder.html">point_holder</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 48"></a></h3><p>The total amount of computational power available, before whats being used.</p><h3 id="var/bits"><aside class="declaration">var </aside>bits <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 32"></a></h3><p>The bits</p><h3 id="var/current_egg_cost"><aside class="declaration">var </aside>current_egg_cost <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 55"></a></h3><p>The current substrate cost to lay an egg.</p><h3 id="var/drones"><aside class="declaration">var </aside>drones <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 34"></a></h3><p>The drones</p><h3 id="var/enemies"><aside class="declaration">var </aside>enemies <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 39"></a></h3><p>A k:v list of mob : details, contains enemy mobs.</p><h3 id="var/flock_game_status"><aside class="declaration">var </aside>flock_game_status <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 59"></a></h3><p>Flock status, won, lost, etc</p><h3 id="var/ignores"><aside class="declaration">var </aside>ignores <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 41"></a></h3><p>A k:V list of mob : TRUE, where mob is mobs that ai will ignore.</p><h3 id="var/marked_for_conversion"><aside class="declaration">var </aside>marked_for_conversion <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 17"></a></h3><p>A k:V list of atoms the Overmind has marked for conversion, where the value is TRUE</p><h3 id="var/marked_for_deconstruction"><aside class="declaration">var </aside>marked_for_deconstruction <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 19"></a></h3><p>A k:v list of atoms the Overmind has marked for deconstruction, where the value is TRUE</p><h3 id="var/max_traces"><aside class="declaration">var </aside>max_traces <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 52"></a></h3><p>The maximum amount of traces allowed.</p><h3 id="var/notice_images"><aside class="declaration">var </aside>notice_images <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 15"></a></h3><p>Cache of images used by notices.</p><h3 id="var/overmind"><aside class="declaration">var </aside>overmind <aside>– /<a href="mob.html">mob</a>/<a href="mob/camera/flock/overmind.html">camera/flock/overmind</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 12"></a></h3><p>The master of the flock</p><h3 id="var/structures"><aside class="declaration">var </aside>structures <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L29"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 29"></a></h3><p>Every structure we've built.</p><h3 id="var/traces"><aside class="declaration">var </aside>traces <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 36"></a></h3><p>The traces</p><h3 id="var/turf_reservations"><aside class="declaration">var </aside>turf_reservations <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 21"></a></h3><p>A k:V list of reserved_turf = TRUE.</p><h3 id="var/turf_reservations_by_flock"><aside class="declaration">var </aside>turf_reservations_by_flock <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 23"></a></h3><p>A k:V list of flock mobs to their reserved turf.</p><h3 id="var/ui_tab"><aside class="declaration">var </aside>ui_tab <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L62"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 62"></a></h3><p>Current UI tab, saves on data sending.</p><h3 id="var/used_bandwidth"><aside class="declaration">var </aside>used_bandwidth <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 50"></a></h3><p>The computational power being used.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_bandwidth_influence"><aside class="declaration">proc </aside>add_bandwidth_influence<aside>(num)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L261"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 261"></a></aside></h3><p>Wrapper for handling bandwidth alongside used_bandwidth for new mobs</p><h3 id="proc/add_ignore"><aside class="declaration">proc </aside>add_ignore<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/ignore)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L353"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 353"></a></aside></h3><p>Adds a mob to the ignored list.</p><h3 id="proc/add_notice"><aside class="declaration">proc </aside>add_notice<aside>(/<a href="atom.html">atom</a>/target, notice_type)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L394"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 394"></a></aside></h3><p>Places a flock notice on an atom. See flock_defines.dm</p><h3 id="proc/add_ping_image"><aside class="declaration">proc </aside>add_ping_image<aside>(/<a href="client.html">client</a>/C, /image/ping, duration)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L464"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 464"></a></aside></h3><p>Helper for adding a ping image to a client's screen and handling clean up.</p><h3 id="proc/add_structure"><aside class="declaration">proc </aside>add_structure<aside>(/<a href="obj.html">obj</a>/<a href="obj/structure/flock.html">structure/flock</a>/struct)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L234"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 234"></a></aside></h3><p>Add a structure to the flock.</p><h3 id="proc/add_unit"><aside class="declaration">proc </aside>add_unit<aside>(/<a href="mob.html">mob</a>/unit)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L185"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 185"></a></aside></h3><p>Adds a unit to the flock and sets up all of the tracking.</p><h3 id="proc/available_bandwidth"><aside class="declaration">proc </aside>available_bandwidth<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L294"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 294"></a></aside></h3><p>Returns the amount of available bandwidth. Can return negative if over budget.</p><h3 id="proc/can_afford"><aside class="declaration">proc </aside>can_afford<aside>(amt)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L298"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 298"></a></aside></h3><p>Returns TRUE if the flock has the required bandwidth</p><h3 id="proc/claim_turf"><aside class="declaration">proc </aside>claim_turf<aside>(/<a href="turf.html">turf</a>/T, convert)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L103"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 103"></a></aside></h3><p>Claim it for the flock, optionally converting it. Converting should only be avoided if the turf is already a flockturf.</p><h3 id="proc/claimed_turf_change"><aside class="declaration">proc </aside>claimed_turf_change<aside>(/<a href="turf.html">turf</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L455"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 455"></a></aside></h3><p>Called when a turf owned by the flock changes.</p><h3 id="proc/cleanup_ping_images"><aside class="declaration">proc </aside>cleanup_ping_images<aside>(/<a href="client.html">client</a>/C, /list/images_to_clean)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L474"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 474"></a></aside></h3><p>Called by add_ping_image via timer callback.</p><h3 id="proc/consider_game_over"><aside class="declaration">proc </aside>consider_game_over<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L642"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 642"></a></aside></h3><p>Ends the flock if it is unable to continue spreading.</p><h3 id="proc/create_hud_images"><aside class="declaration">proc </aside>create_hud_images<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L520"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 520"></a></aside></h3><p>Instantiates all of the flock notice image singletons.</p><h3 id="proc/create_structure"><aside class="declaration">proc </aside>create_structure<aside>(/<a href="turf.html">turf</a>/location, structure_type)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L257"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 257"></a></aside></h3><p>Wrapper for spawning a tealprint, used by Create Structure</p><h3 id="proc/deconstruct_mark_deleted"><aside class="declaration">proc </aside>deconstruct_mark_deleted<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L708"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 708"></a></aside></h3><p>Called when an atom marked for deconstruction is qdeleted.</p><h3 id="proc/free_structure"><aside class="declaration">proc </aside>free_structure<aside>(/<a href="obj.html">obj</a>/<a href="obj/structure/flock.html">structure/flock</a>/struct)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L244"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 244"></a></aside></h3><p>Remove a structure from the flock.</p><h3 id="proc/free_turf"><aside class="declaration">proc </aside>free_turf<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/simple_animal.html">simple_animal</a>/<a href="mob/living/simple_animal/flock.html">flock</a>/user, /<a href="turf.html">turf</a>/override_turf)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L151"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 151"></a></aside></h3><p>Free a turf from reservation, allowing AI to target it again. override_turf can be given to lookup the user if there isnt a user in this context.</p><h3 id="proc/free_unit"><aside class="declaration">proc </aside>free_unit<aside>(/<a href="mob.html">mob</a>/unit)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L206"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 206"></a></aside></h3><p>Removes a unit from the flock.</p><h3 id="proc/game_over"><aside class="declaration">proc </aside>game_over<aside>(completely_destroy)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L662"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 662"></a></aside></h3><p>Kills off the flock. Pass completely_destroy = FALSE to allow the overmind to live on.</p><h3 id="proc/get_egg_elligibility_cost"><aside class="declaration">proc </aside>get_egg_elligibility_cost<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L311"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 311"></a></aside></h3><p>Returns the substract requirement to be able to spend substrate on an egg. See above proc.</p><h3 id="proc/get_priority_turfs"><aside class="declaration">proc </aside>get_priority_turfs<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/simple_animal.html">simple_animal</a>/<a href="mob/living/simple_animal/flock.html">flock</a>/bird)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L403"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 403"></a></aside></h3><p>Returns a list of turfs marked for conversion, minus turfs that drones have already reserved.</p><h3 id="proc/get_total_health_percentage"><aside class="declaration">proc </aside>get_total_health_percentage<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L431"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 431"></a></aside></h3><p>Returns the total percentage of the sum of every mob's health and max health.</p><h3 id="proc/get_total_substrate"><aside class="declaration">proc </aside>get_total_substrate<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L444"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 444"></a></aside></h3><p>Returns the total amount of substrate by all flock mobs.</p><h3 id="proc/is_mob_enemy"><aside class="declaration">proc </aside>is_mob_enemy<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L177"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 177"></a></aside></h3><p>Returns TRUE if the given mob is an enemy.</p><h3 id="proc/is_mob_ignored"><aside class="declaration">proc </aside>is_mob_ignored<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L181"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 181"></a></aside></h3><p>Returns TRUE if the given mob is ignored by the flock.</p><h3 id="proc/is_on_safe_z"><aside class="declaration">proc </aside>is_on_safe_z<aside>(/<a href="atom.html">atom</a>/A)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L486"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 486"></a></aside></h3><p>Checks to see if the given atom is allowed to be there. Has lots of behavior like making drones dormant and snapping traces back to the station.</p><h3 id="proc/is_turf_free"><aside class="declaration">proc </aside>is_turf_free<aside>(/<a href="turf.html">turf</a>/T)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L173"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 173"></a></aside></h3><p>Returns TRUE if the given turf is not reserved.</p><h3 id="proc/on_client_gone"><aside class="declaration">proc </aside>on_client_gone<aside>(/<a href="client.html">client</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L500"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 500"></a></aside></h3><p>Called when a client holding a ping image disconnects.</p><h3 id="proc/on_enemy_gone"><aside class="declaration">proc </aside>on_enemy_gone<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L510"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 510"></a></aside></h3><p>Called when an enemy atom is deleted.</p><h3 id="proc/on_ignore_gone"><aside class="declaration">proc </aside>on_ignore_gone<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L515"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 515"></a></aside></h3><p>Called when an ignored mob is deleted.</p><h3 id="proc/on_unit_death"><aside class="declaration">proc </aside>on_unit_death<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L505"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 505"></a></aside></h3><p>Called when a unit under the flock's control dies.</p><h3 id="proc/ping"><aside class="declaration">proc </aside>ping<aside>(/<a href="turf.html">turf</a>/T, /<a href="mob.html">mob</a>/camera/flock/pinger)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L410"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 410"></a></aside></h3><p>Pings a location, alerting all flocktraces.</p><h3 id="proc/refresh_unlockables"><aside class="declaration">proc </aside>refresh_unlockables<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L279"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 279"></a></aside></h3><p>Refreshes the status of every unlockable.</p><h3 id="proc/register_overmind"><aside class="declaration">proc </aside>register_overmind<aside>(/<a href="mob.html">mob</a>/camera/flock_overmind)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L319"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 319"></a></aside></h3><p>Sets the flock's overmind</p><h3 id="proc/remove_bandwidth_influence"><aside class="declaration">proc </aside>remove_bandwidth_influence<aside>(num)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L270"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 270"></a></aside></h3><p>Wrapper for handling bandwidth alongside used_bandwidth for mobs leaving the flock</p><h3 id="proc/remove_enemy"><aside class="declaration">proc </aside>remove_enemy<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/enemy, skip_buckled)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L339"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 339"></a></aside></h3><p>Removes an atom from the enemies list.</p><h3 id="proc/remove_ignore"><aside class="declaration">proc </aside>remove_ignore<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/ignore, skip_buckled)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L366"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 366"></a></aside></h3><p>Removes a mob from the ignore list.</p><h3 id="proc/remove_notice"><aside class="declaration">proc </aside>remove_notice<aside>(/<a href="atom.html">atom</a>/target, notice_type)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L399"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 399"></a></aside></h3><p>Removes a flock notice from an atom.</p><h3 id="proc/reserve_turf"><aside class="declaration">proc </aside>reserve_turf<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/simple_animal.html">simple_animal</a>/<a href="mob/living/simple_animal/flock.html">flock</a>/user, /<a href="turf.html">turf</a>/target, remove_on_change)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L137"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 137"></a></aside></h3><p>Reserves a turf, making AI ignore it for the purposes of targetting.</p><h3 id="proc/reserved_turf_change"><aside class="declaration">proc </aside>reserved_turf_change<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L450"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 450"></a></aside></h3><p>Called when a turf reserved by a flock mob changes.</p><h3 id="proc/set_flock_game_status"><aside class="declaration">proc </aside>set_flock_game_status<aside>(new_status)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L587"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 587"></a></aside></h3><p>Setter for flock_game_status.</p><h3 id="proc/start"><aside class="declaration">proc </aside>start<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L95"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 95"></a></aside></h3><p>Called after everything is setup, and clients are in control of their mobs.</p><h3 id="proc/stop_tracking_turf"><aside class="declaration">proc </aside>stop_tracking_turf<aside>(/<a href="turf.html">turf</a>/T)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L127"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 127"></a></aside></h3><p>Stop tracking a turf that is in our claimed walls or claimed floors lists.</p><h3 id="proc/toggle_deconstruction_mark"><aside class="declaration">proc </aside>toggle_deconstruction_mark<aside>(/<a href="atom.html">atom</a>/A)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L379"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 379"></a></aside></h3><p>(un)Mark a flock atom for deconstruction. Returns FALSE if it cannot be deconstructed.</p><h3 id="proc/total_bandwidth"><aside class="declaration">proc </aside>total_bandwidth<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L290"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 290"></a></aside></h3><p>Returns the total amount of bandwidth, including bandwidth being used.</p><h3 id="proc/update_egg_cost"><aside class="declaration">proc </aside>update_egg_cost<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L302"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 302"></a></aside></h3><p>Updates the substrate cost of an egg given the current status of the flock.</p><h3 id="proc/update_enemy"><aside class="declaration">proc </aside>update_enemy<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/enemy)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L323"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 323"></a></aside></h3><p>Updates a mob's enemy status. If they are already an enemy, their entry will be updated with new information.</p><h3 id="proc/update_relay_huds"><aside class="declaration">proc </aside>update_relay_huds<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/modules/flockmind/flock_controller/_flock_controller.dm#L597"><img src="git.png" width="16" height="16" title="code/modules/flockmind/flock_controller/_flock_controller.dm 597"></a></aside></h3><p>Update the relay status huds for all flock traces and the overmind.</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/a11ad7c401daeb2805315aa8820f21ea7c1bf233">a11ad7c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>