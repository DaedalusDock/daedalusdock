<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/game_mode/dynamic - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/game_mode/dynamic.html#var">Var Details</a> - <a href="datum/game_mode/dynamic.html#proc">Proc Details</a></header><main><h1>dynamic <aside>/<a href="datum.html">datum</a>/<a href="datum/game_mode.html">game_mode</a>/<a href="datum/game_mode/dynamic.html">dynamic</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L20"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 20"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/candidates">candidates</a></th><td>List of candidates used on roundstart rulesets.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/configuration">configuration</a></th><td>Dynamic configuration, loaded on pre_setup</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/current_midround_rulesets">current_midround_rulesets</a></th><td>The last drafted midround rulesets (without the current one included).
Used for choosing different midround injections.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/current_rules">current_rules</a></th><td>Rules that are processed, rule_process is called on the rules in this list.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/executed_rules">executed_rules</a></th><td>List of executed rulesets.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/forced_injection">forced_injection</a></th><td>When TRUE GetInjectionChance returns 100.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/forced_latejoin_rule">forced_latejoin_rule</a></th><td>Forced ruleset to be executed for the next latejoin.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/high_impact_ruleset_executed">high_impact_ruleset_executed</a></th><td>If a high impact ruleset was executed. Only one will run at a time in most circumstances.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/higher_injection_chance">higher_injection_chance</a></th><td>The chance of injection increase when above higher_injection_chance_minimum_threat</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/higher_injection_chance_minimum_threat">higher_injection_chance_minimum_threat</a></th><td>If above this threat, increase the chance of injection</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/hijacked_random_event_injection_chance">hijacked_random_event_injection_chance</a></th><td>The amount to inject when a round event is hijacked</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/initial_round_start_budget">initial_round_start_budget</a></th><td>The initial round start budget for logging purposes, set once at the beginning of the round.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/last_midround_injection_attempt">last_midround_injection_attempt</a></th><td>The time when the last midround injection was attempted, whether or not it was successful</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/latejoin_delay_max">latejoin_delay_max</a></th><td>The maximum time the recurring latejoin ruleset timer is allowed to be.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/latejoin_delay_min">latejoin_delay_min</a></th><td>The minimum time the recurring latejoin ruleset timer is allowed to be.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/latejoin_injection_cooldown">latejoin_injection_cooldown</a></th><td>When world.time is over this number the mode tries to inject a latejoin ruleset.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/latejoin_rules">latejoin_rules</a></th><td>List of latejoin rules used for selecting the rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/lower_injection_chance">lower_injection_chance</a></th><td>The chance of injection decrease when above lower_injection_chance_minimum_threat</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/lower_injection_chance_minimum_threat">lower_injection_chance_minimum_threat</a></th><td>If below this threat, decrease the chance of injection</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/max_threat_level">max_threat_level</a></th><td>Maximum amount of threat allowed to generate.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/mid_round_budget">mid_round_budget</a></th><td>Set at the beginning of the round. Spent by midrounds and latejoins.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/midround_delay_max">midround_delay_max</a></th><td>The maximum time the recurring midround ruleset timer is allowed to be.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/midround_delay_min">midround_delay_min</a></th><td>The minimum time the recurring midround ruleset timer is allowed to be.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/midround_injection_cooldown">midround_injection_cooldown</a></th><td>When world.time is over this number the mode tries to inject a midround ruleset.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/midround_injection_timer_id">midround_injection_timer_id</a></th><td>The timer ID for the cancellable midround rule injection</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/midround_rules">midround_rules</a></th><td>List of midround rules used for selecting the rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/only_ruleset_executed">only_ruleset_executed</a></th><td>If a only ruleset has been executed.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/peaceful_percentage">peaceful_percentage</a></th><td>How many percent of the rounds are more peaceful.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/pop_per_requirement">pop_per_requirement</a></th><td></td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/random_event_hijack_maximum">random_event_hijack_maximum</a></th><td>The maximum amount of time for antag random events to be hijacked.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/random_event_hijack_minimum">random_event_hijack_minimum</a></th><td>The minimum amount of time for antag random events to be hijacked.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/random_event_hijacked">random_event_hijacked</a></th><td>Whether or not a random event has been hijacked this midround cycle</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/round_start_budget">round_start_budget</a></th><td>Set at the beginning of the round. Spent by the mode to &quot;purchase&quot; rules. Everything else goes in the postround budget.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/roundend_threat_log">roundend_threat_log</a></th><td>Threat log shown on the roundend report. Should only list player-made edits.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/roundstart_pop_ready">roundstart_pop_ready</a></th><td>Number of players who were ready on roundstart.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/roundstart_split_curve_centre">roundstart_split_curve_centre</a></th><td>A number between -5 and +5.
Equivalent to threat_curve_centre, but for the budget split.
A negative value will weigh towards midround rulesets, and a positive
value will weight towards roundstart ones.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/roundstart_split_curve_width">roundstart_split_curve_width</a></th><td>A number between 0.5 and 4.
Equivalent to threat_curve_width, but for the budget split.
Higher value will favour more variance in splits and
lower value rounds closer to the average.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/shown_threat">shown_threat</a></th><td>The amount of threat shown on the piece of paper.
Can differ from the actual threat amount.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/snapshots">snapshots</a></th><td>A list of recorded &quot;snapshots&quot; of the round, stored in the dynamic.json log</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/threat_curve_centre">threat_curve_centre</a></th><td>A number between -5 and +5.
A negative value will give a more peaceful round and
a positive value will give a round with higher threat.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/threat_curve_width">threat_curve_width</a></th><td>A number between 0.5 and 4.
Higher value will favour extreme rounds and
lower value rounds closer to the average.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/threat_level">threat_level</a></th><td>The &quot;threat cap&quot;, threat shouldn't normally go above this and is used in ruleset calculations</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/threat_log">threat_log</a></th><td>Running information about the threat. Can store text or datum entries.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/waittime_h">waittime_h</a></th><td>What is the higher bound of when the roundstart annoucement is sent out?</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/waittime_l">waittime_l</a></th><td>What is the lower bound of when the roundstart annoucement is sent out?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/admin_cancel_midround">admin_cancel_midround</a></th><td>Fired when an admin cancels the current midround injection.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/admin_different_midround">admin_different_midround</a></th><td>Fired when an admin requests a different midround injection.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/check_blocking">check_blocking</a></th><td>Checks if a type in blocking_list is in rule_list.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/configure_ruleset">configure_ruleset</a></th><td>Apply configurations to rule.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/create_threat">create_threat</a></th><td>Generate threat and increase the threat_level if it goes beyond, capped at 100</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/dynamic_log">dynamic_log</a></th><td>Log to messages and to the game</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/execute_midround_latejoin_rule">execute_midround_latejoin_rule</a></th><td>Mainly here to facilitate delayed rulesets. All midround/latejoin rulesets are executed with a timered callback to this proc.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/execute_midround_rule">execute_midround_rule</a></th><td>Fired after admins do not cancel a midround injection.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/execute_roundstart_rule">execute_roundstart_rule</a></th><td>Mainly here to facilitate delayed rulesets. All roundstart rulesets are executed with a timered callback to this proc.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/generate_budgets">generate_budgets</a></th><td>Generates the midround and roundstart budgets</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/generate_threat">generate_threat</a></th><td>Generates the threat level using lorentz distribution and assigns peaceful_percentage.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/get_injection_chance">get_injection_chance</a></th><td>Gets the chance for latejoin injection, the dry_run argument is only used for forced injection.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/get_midround_injection_chance">get_midround_injection_chance</a></th><td>Gets the chance for midround injection, the dry_run argument is only used for forced injection.
Usually defers to the latejoin injection chance.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/init_rulesets">init_rulesets</a></th><td>Returns a list of the provided rulesets.
Configures their variables to match config.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/lorentz_to_amount">lorentz_to_amount</a></th><td>Turns the value generated by lorentz distribution to number between 0 and 100.
Used for threat level and splitting the budgets.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/new_snapshot">new_snapshot</a></th><td>Creates a new snapshot with the given rulesets chosen, and writes to the JSON output.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/pick_latejoin_rule">pick_latejoin_rule</a></th><td>Executes a random latejoin ruleset from the list of drafted rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/pick_midround_rule">pick_midround_rule</a></th><td>Executes a random midround ruleset from the list of drafted rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/pick_ruleset">pick_ruleset</a></th><td>From a list of rulesets, returns one based on weight and availability.
Mutates the list that is passed into it to remove invalid rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/picking_roundstart_rule">picking_roundstart_rule</a></th><td>Initializes the round start ruleset provided to it. Returns how much threat to spend.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/picking_specific_rule">picking_specific_rule</a></th><td>An experimental proc to allow admins to call rules on the fly or have rules call other rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/refund_threat">refund_threat</a></th><td>Refund threat, but no more than threat_level.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/remove_from_list">remove_from_list</a></th><td>Removes type from the list</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/rigged_roundstart">rigged_roundstart</a></th><td>A simple roundstart proc used when dynamic_forced_roundstart_ruleset has rules in it.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/setup_rulesets">setup_rulesets</a></th><td>Initializes the internal ruleset variables</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/spend_midround_budget">spend_midround_budget</a></th><td>Expend midround threat, can't fall under 0.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/spend_roundstart_budget">spend_roundstart_budget</a></th><td>Expend round start threat, can't fall under 0.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/update_log">update_log</a></th><td>Updates the log for the current snapshots.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/candidates"><aside class="declaration">var </aside>candidates <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L57"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 57"></a></h3><p>List of candidates used on roundstart rulesets.</p><h3 id="var/configuration"><aside class="declaration">var </aside>configuration <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L73"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 73"></a></h3><p>Dynamic configuration, loaded on pre_setup</p><h3 id="var/current_midround_rulesets"><aside class="declaration">var </aside>current_midround_rulesets <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L150"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 150"></a></h3><p>The last drafted midround rulesets (without the current one included).
Used for choosing different midround injections.</p><h3 id="var/current_rules"><aside class="declaration">var </aside>current_rules <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L59"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 59"></a></h3><p>Rules that are processed, rule_process is called on the rules in this list.</p><h3 id="var/executed_rules"><aside class="declaration">var </aside>executed_rules <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L61"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 61"></a></h3><p>List of executed rulesets.</p><h3 id="var/forced_injection"><aside class="declaration">var </aside>forced_injection <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L63"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 63"></a></h3><p>When TRUE GetInjectionChance returns 100.</p><h3 id="var/forced_latejoin_rule"><aside class="declaration">var </aside>forced_latejoin_rule <aside>– /<a href="datum.html">datum</a>/<a href="datum/dynamic_ruleset.html">dynamic_ruleset</a>/latejoin</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L65"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 65"></a></h3><p>Forced ruleset to be executed for the next latejoin.</p><h3 id="var/high_impact_ruleset_executed"><aside class="declaration">var </aside>high_impact_ruleset_executed <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L69"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 69"></a></h3><p>If a high impact ruleset was executed. Only one will run at a time in most circumstances.</p><h3 id="var/higher_injection_chance"><aside class="declaration">var </aside>higher_injection_chance <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L97"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 97"></a></h3><p>The chance of injection increase when above higher_injection_chance_minimum_threat</p><h3 id="var/higher_injection_chance_minimum_threat"><aside class="declaration">var </aside>higher_injection_chance_minimum_threat <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L94"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 94"></a></h3><p>If above this threat, increase the chance of injection</p><h3 id="var/hijacked_random_event_injection_chance"><aside class="declaration">var </aside>hijacked_random_event_injection_chance <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L140"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 140"></a></h3><p>The amount to inject when a round event is hijacked</p><h3 id="var/initial_round_start_budget"><aside class="declaration">var </aside>initial_round_start_budget <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L35"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 35"></a></h3><p>The initial round start budget for logging purposes, set once at the beginning of the round.</p><h3 id="var/last_midround_injection_attempt"><aside class="declaration">var </aside>last_midround_injection_attempt <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L137"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 137"></a></h3><p>The time when the last midround injection was attempted, whether or not it was successful</p><h3 id="var/latejoin_delay_max"><aside class="declaration">var </aside>latejoin_delay_max <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L82"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 82"></a></h3><p>The maximum time the recurring latejoin ruleset timer is allowed to be.</p><h3 id="var/latejoin_delay_min"><aside class="declaration">var </aside>latejoin_delay_min <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L79"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 79"></a></h3><p>The minimum time the recurring latejoin ruleset timer is allowed to be.</p><h3 id="var/latejoin_injection_cooldown"><aside class="declaration">var </aside>latejoin_injection_cooldown <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L76"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 76"></a></h3><p>When world.time is over this number the mode tries to inject a latejoin ruleset.</p><h3 id="var/latejoin_rules"><aside class="declaration">var </aside>latejoin_rules <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L42"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 42"></a></h3><p>List of latejoin rules used for selecting the rules.</p><h3 id="var/lower_injection_chance"><aside class="declaration">var </aside>lower_injection_chance <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L103"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 103"></a></h3><p>The chance of injection decrease when above lower_injection_chance_minimum_threat</p><h3 id="var/lower_injection_chance_minimum_threat"><aside class="declaration">var </aside>lower_injection_chance_minimum_threat <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L100"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 100"></a></h3><p>If below this threat, decrease the chance of injection</p><h3 id="var/max_threat_level"><aside class="declaration">var </aside>max_threat_level <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L162"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 162"></a></h3><p>Maximum amount of threat allowed to generate.</p><h3 id="var/mid_round_budget"><aside class="declaration">var </aside>mid_round_budget <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L32"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 32"></a></h3><p>Set at the beginning of the round. Spent by midrounds and latejoins.</p><h3 id="var/midround_delay_max"><aside class="declaration">var </aside>midround_delay_max <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L91"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 91"></a></h3><p>The maximum time the recurring midround ruleset timer is allowed to be.</p><h3 id="var/midround_delay_min"><aside class="declaration">var </aside>midround_delay_min <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L88"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 88"></a></h3><p>The minimum time the recurring midround ruleset timer is allowed to be.</p><h3 id="var/midround_injection_cooldown"><aside class="declaration">var </aside>midround_injection_cooldown <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L85"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 85"></a></h3><p>When world.time is over this number the mode tries to inject a midround ruleset.</p><h3 id="var/midround_injection_timer_id"><aside class="declaration">var </aside>midround_injection_timer_id <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L146"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 146"></a></h3><p>The timer ID for the cancellable midround rule injection</p><h3 id="var/midround_rules"><aside class="declaration">var </aside>midround_rules <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L44"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 44"></a></h3><p>List of midround rules used for selecting the rules.</p><h3 id="var/only_ruleset_executed"><aside class="declaration">var </aside>only_ruleset_executed <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L71"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 71"></a></h3><p>If a only ruleset has been executed.</p><h3 id="var/peaceful_percentage"><aside class="declaration">var </aside>peaceful_percentage <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L67"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 67"></a></h3><p>How many percent of the rounds are more peaceful.</p><h3 id="var/pop_per_requirement"><aside class="declaration">var </aside>pop_per_requirement <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L53"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 53"></a></h3><ul>
<li><h1 id="pop-range-per-requirement">Pop range per requirement.</h1>
<pre><code>* If the value is five the range is:
* 0-4, 5-9, 10-14, 15-19, 20-24, 25-29, 30-34, 35-39, 40-54, 45+
* If it is six the range is:
* 0-5, 6-11, 12-17, 18-23, 24-29, 30-35, 36-41, 42-47, 48-53, 54+
* If it is seven the range is:
* 0-6, 7-13, 14-20, 21-27, 28-34, 35-41, 42-48, 49-55, 56-62, 63+
</code></pre>
</li>
</ul><h3 id="var/random_event_hijack_maximum"><aside class="declaration">var </aside>random_event_hijack_maximum <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L131"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 131"></a></h3><p>The maximum amount of time for antag random events to be hijacked.</p><h3 id="var/random_event_hijack_minimum"><aside class="declaration">var </aside>random_event_hijack_minimum <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L128"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 128"></a></h3><p>The minimum amount of time for antag random events to be hijacked.</p><h3 id="var/random_event_hijacked"><aside class="declaration">var </aside>random_event_hijacked <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L143"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 143"></a></h3><p>Whether or not a random event has been hijacked this midround cycle</p><h3 id="var/round_start_budget"><aside class="declaration">var </aside>round_start_budget <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L29"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 29"></a></h3><p>Set at the beginning of the round. Spent by the mode to &quot;purchase&quot; rules. Everything else goes in the postround budget.</p><h3 id="var/roundend_threat_log"><aside class="declaration">var </aside>roundend_threat_log <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L40"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 40"></a></h3><p>Threat log shown on the roundend report. Should only list player-made edits.</p><h3 id="var/roundstart_pop_ready"><aside class="declaration">var </aside>roundstart_pop_ready <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L55"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 55"></a></h3><p>Number of players who were ready on roundstart.</p><h3 id="var/roundstart_split_curve_centre"><aside class="declaration">var </aside>roundstart_split_curve_centre <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L119"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 119"></a></h3><p>A number between -5 and +5.
Equivalent to threat_curve_centre, but for the budget split.
A negative value will weigh towards midround rulesets, and a positive
value will weight towards roundstart ones.</p><h3 id="var/roundstart_split_curve_width"><aside class="declaration">var </aside>roundstart_split_curve_width <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L125"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 125"></a></h3><p>A number between 0.5 and 4.
Equivalent to threat_curve_width, but for the budget split.
Higher value will favour more variance in splits and
lower value rounds closer to the average.</p><h3 id="var/shown_threat"><aside class="declaration">var </aside>shown_threat <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L154"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 154"></a></h3><p>The amount of threat shown on the piece of paper.
Can differ from the actual threat amount.</p><h3 id="var/snapshots"><aside class="declaration">var </aside>snapshots <aside>– /list/<a href="datum.html">datum</a>/<a href="datum/dynamic_snapshot.html">dynamic_snapshot</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L134"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 134"></a></h3><p>A list of recorded &quot;snapshots&quot; of the round, stored in the dynamic.json log</p><h3 id="var/threat_curve_centre"><aside class="declaration">var </aside>threat_curve_centre <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L108"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 108"></a></h3><p>A number between -5 and +5.
A negative value will give a more peaceful round and
a positive value will give a round with higher threat.</p><h3 id="var/threat_curve_width"><aside class="declaration">var </aside>threat_curve_width <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L113"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 113"></a></h3><p>A number between 0.5 and 4.
Higher value will favour extreme rounds and
lower value rounds closer to the average.</p><h3 id="var/threat_level"><aside class="declaration">var </aside>threat_level <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L26"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 26"></a></h3><p>The &quot;threat cap&quot;, threat shouldn't normally go above this and is used in ruleset calculations</p><h3 id="var/threat_log"><aside class="declaration">var </aside>threat_log <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L38"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 38"></a></h3><p>Running information about the threat. Can store text or datum entries.</p><h3 id="var/waittime_h"><aside class="declaration">var </aside>waittime_h <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L159"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 159"></a></h3><p>What is the higher bound of when the roundstart annoucement is sent out?</p><h3 id="var/waittime_l"><aside class="declaration">var </aside>waittime_l <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L157"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 157"></a></h3><p>What is the lower bound of when the roundstart annoucement is sent out?</p><h2 id="proc">Proc Details</h2><h3 id="proc/admin_cancel_midround"><aside class="declaration">proc </aside>admin_cancel_midround<aside>(/<a href="mob.html">mob</a>/user, timer_id)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/ruleset_picking.dm#L94"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/ruleset_picking.dm 94"></a></aside></h3><p>Fired when an admin cancels the current midround injection.</p><h3 id="proc/admin_different_midround"><aside class="declaration">proc </aside>admin_different_midround<aside>(/<a href="mob.html">mob</a>/user, timer_id)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/ruleset_picking.dm#L105"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/ruleset_picking.dm 105"></a></aside></h3><p>Fired when an admin requests a different midround injection.</p><h3 id="proc/check_blocking"><aside class="declaration">proc </aside>check_blocking<aside>(/list/blocking_list, /list/rule_list)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L704"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 704"></a></aside></h3><p>Checks if a type in blocking_list is in rule_list.</p><h3 id="proc/configure_ruleset"><aside class="declaration">proc </aside>configure_ruleset<aside>(/<a href="datum.html">datum</a>/<a href="datum/dynamic_ruleset.html">dynamic_ruleset</a>/ruleset)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L750"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 750"></a></aside></h3><p>Apply configurations to rule.</p><h3 id="proc/create_threat"><aside class="declaration">proc </aside>create_threat<aside>(gain, /list/threat_log, reason)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L767"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 767"></a></aside></h3><p>Generate threat and increase the threat_level if it goes beyond, capped at 100</p><h3 id="proc/dynamic_log"><aside class="declaration">proc </aside>dynamic_log<aside>(text)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L818"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 818"></a></aside></h3><p>Log to messages and to the game</p><h3 id="proc/execute_midround_latejoin_rule"><aside class="declaration">proc </aside>execute_midround_latejoin_rule<aside>(sent_rule)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/ruleset_picking.dm#L69"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/ruleset_picking.dm 69"></a></aside></h3><p>Mainly here to facilitate delayed rulesets. All midround/latejoin rulesets are executed with a timered callback to this proc.</p><h3 id="proc/execute_midround_rule"><aside class="declaration">proc </aside>execute_midround_rule<aside>(/<a href="datum.html">datum</a>/<a href="datum/dynamic_ruleset.html">dynamic_ruleset</a>/rule)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/ruleset_picking.dm#L51"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/ruleset_picking.dm 51"></a></aside></h3><p>Fired after admins do not cancel a midround injection.</p><h3 id="proc/execute_roundstart_rule"><aside class="declaration">proc </aside>execute_roundstart_rule<aside>(sent_rule)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L558"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 558"></a></aside></h3><p>Mainly here to facilitate delayed rulesets. All roundstart rulesets are executed with a timered callback to this proc.</p><h3 id="proc/generate_budgets"><aside class="declaration">proc </aside>generate_budgets<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L347"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 347"></a></aside></h3><p>Generates the midround and roundstart budgets</p><h3 id="proc/generate_threat"><aside class="declaration">proc </aside>generate_threat<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L340"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 340"></a></aside></h3><p>Generates the threat level using lorentz distribution and assigns peaceful_percentage.</p><h3 id="proc/get_injection_chance"><aside class="declaration">proc </aside>get_injection_chance<aside>(dry_run)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L664"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 664"></a></aside></h3><p>Gets the chance for latejoin injection, the dry_run argument is only used for forced injection.</p><h3 id="proc/get_midround_injection_chance"><aside class="declaration">proc </aside>get_midround_injection_chance<aside>(dry_run)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L688"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 688"></a></aside></h3><p>Gets the chance for midround injection, the dry_run argument is only used for forced injection.
Usually defers to the latejoin injection chance.</p><h3 id="proc/init_rulesets"><aside class="declaration">proc </aside>init_rulesets<aside>(ruleset_subtype)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L444"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 444"></a></aside></h3><p>Returns a list of the provided rulesets.
Configures their variables to match config.</p><h3 id="proc/lorentz_to_amount"><aside class="declaration">proc </aside>lorentz_to_amount<aside>(x)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L794"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 794"></a></aside></h3><p>Turns the value generated by lorentz distribution to number between 0 and 100.
Used for threat level and splitting the budgets.</p><h3 id="proc/new_snapshot"><aside class="declaration">proc </aside>new_snapshot<aside>(/<a href="datum.html">datum</a>/<a href="datum/dynamic_ruleset.html">dynamic_ruleset</a>/ruleset_chosen)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic_logging.dm#L87"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic_logging.dm 87"></a></aside></h3><p>Creates a new snapshot with the given rulesets chosen, and writes to the JSON output.</p><h3 id="proc/pick_latejoin_rule"><aside class="declaration">proc </aside>pick_latejoin_rule<aside>(/list/drafted_rules)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/ruleset_picking.dm#L59"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/ruleset_picking.dm 59"></a></aside></h3><p>Executes a random latejoin ruleset from the list of drafted rules.</p><h3 id="proc/pick_midround_rule"><aside class="declaration">proc </aside>pick_midround_rule<aside>(/list/drafted_rules)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/ruleset_picking.dm#L33"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/ruleset_picking.dm 33"></a></aside></h3><p>Executes a random midround ruleset from the list of drafted rules.</p><h3 id="proc/pick_ruleset"><aside class="declaration">proc </aside>pick_ruleset<aside>(/list/drafted_rules)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/ruleset_picking.dm#L5"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/ruleset_picking.dm 5"></a></aside></h3><p>From a list of rulesets, returns one based on weight and availability.
Mutates the list that is passed into it to remove invalid rules.</p><h3 id="proc/picking_roundstart_rule"><aside class="declaration">proc </aside>picking_roundstart_rule<aside>(/<a href="datum.html">datum</a>/<a href="datum/dynamic_ruleset.html">dynamic_ruleset</a>/<a href="datum/dynamic_ruleset/roundstart.html">roundstart</a>/ruleset, scaled_times, forced)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L539"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 539"></a></aside></h3><p>Initializes the round start ruleset provided to it. Returns how much threat to spend.</p><h3 id="proc/picking_specific_rule"><aside class="declaration">proc </aside>picking_specific_rule<aside>(ruletype, forced)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L571"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 571"></a></aside></h3><p>An experimental proc to allow admins to call rules on the fly or have rules call other rules.</p><h3 id="proc/refund_threat"><aside class="declaration">proc </aside>refund_threat<aside>(regain)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L763"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 763"></a></aside></h3><p>Refund threat, but no more than threat_level.</p><h3 id="proc/remove_from_list"><aside class="declaration">proc </aside>remove_from_list<aside>(/list/type_list, type)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L697"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 697"></a></aside></h3><p>Removes type from the list</p><h3 id="proc/rigged_roundstart"><aside class="declaration">proc </aside>rigged_roundstart<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L461"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 461"></a></aside></h3><p>A simple roundstart proc used when dynamic_forced_roundstart_ruleset has rules in it.</p><h3 id="proc/setup_rulesets"><aside class="declaration">proc </aside>setup_rulesets<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L438"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 438"></a></aside></h3><p>Initializes the internal ruleset variables</p><h3 id="proc/spend_midround_budget"><aside class="declaration">proc </aside>spend_midround_budget<aside>(cost, /list/threat_log, reason)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L787"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 787"></a></aside></h3><p>Expend midround threat, can't fall under 0.</p><h3 id="proc/spend_roundstart_budget"><aside class="declaration">proc </aside>spend_roundstart_budget<aside>(cost, /list/threat_log, reason)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic.dm#L781"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 781"></a></aside></h3><p>Expend round start threat, can't fall under 0.</p><h3 id="proc/update_log"><aside class="declaration">proc </aside>update_log<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/game/gamemodes/dynamic/dynamic_logging.dm#L72"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic_logging.dm 72"></a></aside></h3><p>Updates the log for the current snapshots.</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/a11ad7c401daeb2805315aa8820f21ea7c1bf233">a11ad7c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>