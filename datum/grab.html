<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/grab - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/grab.html#var">Var Details</a> - <a href="datum/grab.html#proc">Proc Details</a></header><main><h1>grab <aside>/<a href="datum.html">datum</a>/<a href="datum/grab.html">grab</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L3"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 3"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/grab.html#var/breakability">breakability</a></th><td>The baseline index of break_chance_table, before modifiers. This can be higher than the length of break_chance_table.</td></tr><tr><th><a href="datum/grab.html#var/can_absorb">can_absorb</a></th><td>Whether this grab state is strong enough to, as a changeling, absorb the person you're grabbing.</td></tr><tr><th><a href="datum/grab.html#var/can_throw">can_throw</a></th><td>If the grabber can throw the person grabbed.</td></tr><tr><th><a href="datum/grab.html#var/damage_stage">damage_stage</a></th><td>Affects how much damage is being dealt using certain actions.</td></tr><tr><th><a href="datum/grab.html#var/downgrab">downgrab</a></th><td>The grab that this will downgrade to if it downgrades, null means break grab on downgrade</td></tr><tr><th><a href="datum/grab.html#var/downgrade_on_action">downgrade_on_action</a></th><td>If the grab needs to be downgraded when the grabber does stuff.</td></tr><tr><th><a href="datum/grab.html#var/downgrade_on_move">downgrade_on_move</a></th><td>If the grab needs to be downgraded when the grabber moves.</td></tr><tr><th><a href="datum/grab.html#var/enable_violent_interactions">enable_violent_interactions</a></th><td>If the grab is strong enough to be able to force someone to do something harmful to them, like slam their head into glass.</td></tr><tr><th><a href="datum/grab.html#var/point_blank_mult">point_blank_mult</a></th><td>How much the grab increases point blank damage.</td></tr><tr><th><a href="datum/grab.html#var/restrains">restrains</a></th><td>If the grab acts like cuffs and prevents action from the victim.</td></tr><tr><th><a href="datum/grab.html#var/same_tile">same_tile</a></th><td>If the grabbed person and the grabbing person are on the same tile.</td></tr><tr><th><a href="datum/grab.html#var/upgrab">upgrab</a></th><td>The grab that this will upgrade to if it upgrades, null means no upgrade</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/grab.html#proc/add_context">add_context</a></th><td>Add screentip context, user will always be assailant.</td></tr><tr><th><a href="datum/grab.html#proc/apply_unique_grab_effects">apply_unique_grab_effects</a></th><td>Apply effects that should only be applied when a grab type is first used on a mob.</td></tr><tr><th><a href="datum/grab.html#proc/enter_as_down">enter_as_down</a></th><td>Return TRUE unless the grab state is changing during this proc (for example, calling upgrade())</td></tr><tr><th><a href="datum/grab.html#proc/enter_as_up">enter_as_up</a></th><td>Return TRUE unless the grab state is changing during this proc (for example, calling upgrade())</td></tr><tr><th><a href="datum/grab.html#proc/handle_resist">handle_resist</a></th><td>Handle resist actions from the affected mob. Returns TRUE if the grab was broken.</td></tr><tr><th><a href="datum/grab.html#proc/let_go">let_go</a></th><td>DO NOT CALL THIS DIRECTLY GOOD LORD!!! This should ONLY be called by /obj/item/hand_item/grab/Destroy()</td></tr><tr><th><a href="datum/grab.html#proc/refresh_updown">refresh_updown</a></th><td>Called during world/New to setup references.</td></tr><tr><th><a href="datum/grab.html#proc/remove_bodyzone_effects">remove_bodyzone_effects</a></th><td>Clear out any effects from special_bodyzone_effects()</td></tr><tr><th><a href="datum/grab.html#proc/remove_unique_grab_effects">remove_unique_grab_effects</a></th><td>Remove effects added by apply_unique_grab_effects()</td></tr><tr><th><a href="datum/grab.html#proc/setup">setup</a></th><td>Called by the grab item's setup() proc. May return FALSE to interrupt, otherwise the grab has succeeded.</td></tr><tr><th><a href="datum/grab.html#proc/special_bodyzone_effects">special_bodyzone_effects</a></th><td>Handles special targeting like eyes and mouth being covered.
CLEAR OUT ANY EFFECTS USING remove_bodyzone_effects()</td></tr><tr><th><a href="datum/grab.html#proc/update_stage_effects">update_stage_effects</a></th><td>Add effects that apply based on damage_stage here</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/breakability"><aside class="declaration">var </aside>breakability <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 52"></a></h3><p>The baseline index of break_chance_table, before modifiers. This can be higher than the length of break_chance_table.</p><h3 id="var/can_absorb"><aside class="declaration">var </aside>can_absorb <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 18"></a></h3><p>Whether this grab state is strong enough to, as a changeling, absorb the person you're grabbing.</p><h3 id="var/can_throw"><aside class="declaration">var </aside>can_throw <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 26"></a></h3><p>If the grabber can throw the person grabbed.</p><h3 id="var/damage_stage"><aside class="declaration">var </aside>damage_stage <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 22"></a></h3><p>Affects how much damage is being dealt using certain actions.</p><h3 id="var/downgrab"><aside class="declaration">var </aside>downgrab <aside>– /<a href="datum.html">datum</a>/<a href="datum/grab.html">grab</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 11"></a></h3><p>The grab that this will downgrade to if it downgrades, null means break grab on downgrade</p><h3 id="var/downgrade_on_action"><aside class="declaration">var </aside>downgrade_on_action <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 28"></a></h3><p>If the grab needs to be downgraded when the grabber does stuff.</p><h3 id="var/downgrade_on_move"><aside class="declaration">var </aside>downgrade_on_move <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 30"></a></h3><p>If the grab needs to be downgraded when the grabber moves.</p><h3 id="var/enable_violent_interactions"><aside class="declaration">var </aside>enable_violent_interactions <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 32"></a></h3><p>If the grab is strong enough to be able to force someone to do something harmful to them, like slam their head into glass.</p><h3 id="var/point_blank_mult"><aside class="declaration">var </aside>point_blank_mult <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 20"></a></h3><p>How much the grab increases point blank damage.</p><h3 id="var/restrains"><aside class="declaration">var </aside>restrains <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 34"></a></h3><p>If the grab acts like cuffs and prevents action from the victim.</p><h3 id="var/same_tile"><aside class="declaration">var </aside>same_tile <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 24"></a></h3><p>If the grabbed person and the grabbing person are on the same tile.</p><h3 id="var/upgrab"><aside class="declaration">var </aside>upgrab <aside>– /<a href="datum.html">datum</a>/<a href="datum/grab.html">grab</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 9"></a></h3><p>The grab that this will upgrade to if it upgrades, null means no upgrade</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_context"><aside class="declaration">proc </aside>add_context<aside>(/list/context, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/held_item, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L431"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 431"></a></aside></h3><p>Add screentip context, user will always be assailant.</p><h3 id="proc/apply_unique_grab_effects"><aside class="declaration">proc </aside>apply_unique_grab_effects<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/affecting)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L282"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 282"></a></aside></h3><p>Apply effects that should only be applied when a grab type is first used on a mob.</p><h3 id="proc/enter_as_down"><aside class="declaration">proc </aside>enter_as_down<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/grab.html">hand_item/grab</a>/G, silent)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L356"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 356"></a></aside></h3><p>Return TRUE unless the grab state is changing during this proc (for example, calling upgrade())</p><h3 id="proc/enter_as_up"><aside class="declaration">proc </aside>enter_as_up<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/grab.html">hand_item/grab</a>/G, silent)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L350"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 350"></a></aside></h3><p>Return TRUE unless the grab state is changing during this proc (for example, calling upgrade())</p><h3 id="proc/handle_resist"><aside class="declaration">proc </aside>handle_resist<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/grab.html">hand_item/grab</a>/G)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L366"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 366"></a></aside></h3><p>Handle resist actions from the affected mob. Returns TRUE if the grab was broken.</p><h3 id="proc/let_go"><aside class="declaration">proc </aside>let_go<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/grab.html">hand_item/grab</a>/G)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L111"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 111"></a></aside></h3><p>DO NOT CALL THIS DIRECTLY GOOD LORD!!! This should ONLY be called by /obj/item/hand_item/grab/Destroy()</p><h3 id="proc/refresh_updown"><aside class="declaration">proc </aside>refresh_updown<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L69"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 69"></a></aside></h3><p>Called during world/New to setup references.</p><h3 id="proc/remove_bodyzone_effects"><aside class="declaration">proc </aside>remove_bodyzone_effects<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/grab.html">hand_item/grab</a>/G, old_zone, new_zone)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L308"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 308"></a></aside></h3><p>Clear out any effects from special_bodyzone_effects()</p><h3 id="proc/remove_unique_grab_effects"><aside class="declaration">proc </aside>remove_unique_grab_effects<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/affecting)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L288"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 288"></a></aside></h3><p>Remove effects added by apply_unique_grab_effects()</p><h3 id="proc/setup"><aside class="declaration">proc </aside>setup<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/hand_item/grab)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 77"></a></aside></h3><p>Called by the grab item's setup() proc. May return FALSE to interrupt, otherwise the grab has succeeded.</p><h3 id="proc/special_bodyzone_effects"><aside class="declaration">proc </aside>special_bodyzone_effects<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/grab.html">hand_item/grab</a>/G)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L295"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 295"></a></aside></h3><p>Handles special targeting like eyes and mouth being covered.
CLEAR OUT ANY EFFECTS USING remove_bodyzone_effects()</p><h3 id="proc/update_stage_effects"><aside class="declaration">proc </aside>update_stage_effects<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/hand_item/grab.html">hand_item/grab</a>/G, /<a href="datum.html">datum</a>/<a href="datum/grab.html">grab</a>/old_grab, dropping_grab)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/grab/grab_datum.dm#L242"><img src="git.png" width="16" height="16" title="code/modules/grab/grab_datum.dm 242"></a></aside></h3><p>Add effects that apply based on damage_stage here</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>