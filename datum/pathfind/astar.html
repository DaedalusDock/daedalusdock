<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/pathfind/astar - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/pathfind/astar.html#var">Var Details</a> - <a href="datum/pathfind/astar.html#proc">Proc Details</a></header><main><h1>astar <aside>/<a href="datum.html">datum</a>/<a href="datum/pathfind.html">pathfind</a>/<a href="datum/pathfind/astar.html">astar</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L14"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 14"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/pathfind/astar.html#var/closed">closed</a></th><td>A k:v list of turf -&gt; directions. The directions are directions the pathfinder attempted to step into the turf but failed.</td></tr><tr><th><a href="datum/pathfind/astar.html#var/end">end</a></th><td>The turf we're trying to path to (note that this won't track a moving target)</td></tr><tr><th><a href="datum/pathfind/astar.html#var/heuristic">heuristic</a></th><td>An optional callback to invoke to return a positive value to add to the path's distance.</td></tr><tr><th><a href="datum/pathfind/astar.html#var/invoker">invoker</a></th><td>The thing that we're actually trying to path for</td></tr><tr><th><a href="datum/pathfind/astar.html#var/mintargetdist">mintargetdist</a></th><td>How far away we have to get to the end target before we can call it quits</td></tr><tr><th><a href="datum/pathfind/astar.html#var/open_binary_tree">open_binary_tree</a></th><td>A binary search tree containing the discovered nodes.</td></tr><tr><th><a href="datum/pathfind/astar.html#var/open_turf_to_node">open_turf_to_node</a></th><td>A k:V list of turf -&gt; astar node</td></tr><tr><th><a href="datum/pathfind/astar.html#var/path">path</a></th><td>The list we compile at the end if successful to pass back</td></tr><tr><th><a href="datum/pathfind/astar.html#var/skip_first">skip_first</a></th><td>If we should delete the first step in the path or not. Used often because it is just the starting tile</td></tr><tr><th><a href="datum/pathfind/astar.html#var/use_diagonals">use_diagonals</a></th><td>Defines how we handle diagonal moves. See __DEFINES/path.dm</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/pathfind/astar.html#proc/finished">finished</a></th><td>Cleanup pass for the pathfinder. This tidies up the path, and fufills the pathfind's obligations</td></tr><tr><th><a href="datum/pathfind/astar.html#proc/generic_heuristic">generic_heuristic</a></th><td>The generic heuristic, euclidean distance.</td></tr><tr><th><a href="datum/pathfind/astar.html#proc/search_step">search_step</a></th><td>search_step() is the workhorse of pathfinding. It'll do the searching logic, and will slowly build up a path
returns TRUE if everything is stable, FALSE if the pathfinding logic has failed, and we need to abort</td></tr><tr><th><a href="datum/pathfind/astar.html#proc/start">start</a></th><td>&quot;starts&quot; off the pathfinding, by storing the values this datum will need to work later on
returns FALSE if it fails to setup properly, TRUE otherwise</td></tr><tr><th><a href="datum/pathfind/astar.html#proc/unwind_path">unwind_path</a></th><td>Called when we've hit the goal with the node that represents the last tile, then sets the path var to that path so it can be returned by [datum/pathfind/proc/search]</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/closed"><aside class="declaration">var </aside>closed <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L23"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 23"></a></h3><p>A k:v list of turf -&gt; directions. The directions are directions the pathfinder attempted to step into the turf but failed.</p><h3 id="var/end"><aside class="declaration">var </aside>end <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L18"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 18"></a></h3><p>The turf we're trying to path to (note that this won't track a moving target)</p><h3 id="var/heuristic"><aside class="declaration">var </aside>heuristic <aside>– /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L36"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 36"></a></h3><p>An optional callback to invoke to return a positive value to add to the path's distance.</p><h3 id="var/invoker"><aside class="declaration">var </aside>invoker <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L16"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 16"></a></h3><p>The thing that we're actually trying to path for</p><h3 id="var/mintargetdist"><aside class="declaration">var </aside>mintargetdist <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L30"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 30"></a></h3><p>How far away we have to get to the end target before we can call it quits</p><h3 id="var/open_binary_tree"><aside class="declaration">var </aside>open_binary_tree <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L25"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 25"></a></h3><p>A binary search tree containing the discovered nodes.</p><h3 id="var/open_turf_to_node"><aside class="declaration">var </aside>open_turf_to_node <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L27"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 27"></a></h3><p>A k:V list of turf -&gt; astar node</p><h3 id="var/path"><aside class="declaration">var </aside>path <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L20"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 20"></a></h3><p>The list we compile at the end if successful to pass back</p><h3 id="var/skip_first"><aside class="declaration">var </aside>skip_first <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L32"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 32"></a></h3><p>If we should delete the first step in the path or not. Used often because it is just the starting tile</p><h3 id="var/use_diagonals"><aside class="declaration">var </aside>use_diagonals <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L34"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 34"></a></h3><p>Defines how we handle diagonal moves. See __DEFINES/path.dm</p><h2 id="proc">Proc Details</h2><h3 id="proc/finished"><aside class="parent"><a title="/datum/pathfind" href="datum/pathfind.html#proc/finished">↑</a></aside>finished<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L117"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 117"></a></aside></h3><p>Cleanup pass for the pathfinder. This tidies up the path, and fufills the pathfind's obligations</p><h3 id="proc/generic_heuristic"><aside class="declaration">proc </aside>generic_heuristic<aside>(/<a href="turf.html">turf</a>/searching_turf, /<a href="turf.html">turf</a>/end)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L257"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 257"></a></aside></h3><p>The generic heuristic, euclidean distance.</p><h3 id="proc/search_step"><aside class="parent"><a title="/datum/pathfind" href="datum/pathfind.html#proc/search_step">↑</a></aside>search_step<aside>(tick_check)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L134"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 134"></a></aside></h3><p>search_step() is the workhorse of pathfinding. It'll do the searching logic, and will slowly build up a path
returns TRUE if everything is stable, FALSE if the pathfinding logic has failed, and we need to abort</p><h3 id="proc/start"><aside class="parent"><a title="/datum/pathfind" href="datum/pathfind.html#proc/start">↑</a></aside>start<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L86"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 86"></a></aside></h3><p>&quot;starts&quot; off the pathfinding, by storing the values this datum will need to work later on
returns FALSE if it fails to setup properly, TRUE otherwise</p><h3 id="proc/unwind_path"><aside class="declaration">proc </aside>unwind_path<aside>(/<a href="datum.html">datum</a>/<a href="datum/astar_node.html">astar_node</a>/unwind_node)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/__HELPERS/paths/astar_path.dm#L261"><img src="git.png" width="16" height="16" title="code/__HELPERS/paths/astar_path.dm 261"></a></aside></h3><p>Called when we've hit the goal with the node that represents the last tile, then sets the path var to that path so it can be returned by [datum/pathfind/proc/search]</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>