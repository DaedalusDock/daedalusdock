<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/quirk - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/quirk.html#var">Var Details</a> - <a href="datum/quirk.html#proc">Proc Details</a></header><main><h1>quirk <aside>/<a href="datum.html">datum</a>/<a href="datum/quirk.html">quirk</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L3"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 3"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/quirk.html#var/gain_text">gain_text</a></th><td>Text displayed when this quirk is assigned to a mob (and not transferred)</td></tr><tr><th><a href="datum/quirk.html#var/icon">icon</a></th><td>The icon to show in the preferences menu.
This references a tgui icon, so it can be FontAwesome or a tgfont (with a tg- prefix).</td></tr><tr><th><a href="datum/quirk.html#var/lose_text">lose_text</a></th><td>Text displayed when this quirk is removed from a mob (and not transferred)</td></tr><tr><th><a href="datum/quirk.html#var/medical_record_text">medical_record_text</a></th><td>This text will appear on medical records for the trait. Not yet implemented</td></tr><tr><th><a href="datum/quirk.html#var/quirk_flags">quirk_flags</a></th><td>Flags related to this quirk.</td></tr><tr><th><a href="datum/quirk.html#var/quirk_genre">quirk_genre</a></th><td>If the quirk is a Boon, Bane, or Neutral</td></tr><tr><th><a href="datum/quirk.html#var/quirk_holder">quirk_holder</a></th><td>Reference to the mob currently tied to this quirk datum. Quirks are not singletons.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/quirk.html#proc/add">add</a></th><td>Any effect that should be applied every single time the quirk is added to any mob, even when transferred.</td></tr><tr><th><a href="datum/quirk.html#proc/add_to_holder">add_to_holder</a></th><td>Adds the quirk to a new quirk_holder.</td></tr><tr><th><a href="datum/quirk.html#proc/add_unique">add_unique</a></th><td>Any effects from the proc that should not be done multiple times if the quirk is transferred between mobs.
Put stuff like spawning items in here.</td></tr><tr><th><a href="datum/quirk.html#proc/on_holder_qdeleting">on_holder_qdeleting</a></th><td>Called when quirk_holder is qdeleting. Simply qdels this datum and lets Destroy() handle the rest.</td></tr><tr><th><a href="datum/quirk.html#proc/on_quirk_holder_first_login">on_quirk_holder_first_login</a></th><td>On client connection set quirk preferences.</td></tr><tr><th><a href="datum/quirk.html#proc/post_add">post_add</a></th><td>Any special effects or chat messages which should be applied.
This proc is guaranteed to run if the mob has a client when the quirk is added.
Otherwise, it runs once on the next COMSIG_MOB_LOGIN.</td></tr><tr><th><a href="datum/quirk.html#proc/remove">remove</a></th><td>Removal of any reversible effects added by the quirk.</td></tr><tr><th><a href="datum/quirk.html#proc/remove_from_current_holder">remove_from_current_holder</a></th><td>Removes the quirk from the current quirk_holder.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/gain_text"><aside class="declaration">var </aside>gain_text <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 15"></a></h3><p>Text displayed when this quirk is assigned to a mob (and not transferred)</p><h3 id="var/icon"><aside class="declaration">var </aside>icon <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L23"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 23"></a></h3><p>The icon to show in the preferences menu.
This references a tgui icon, so it can be FontAwesome or a tgfont (with a tg- prefix).</p><h3 id="var/lose_text"><aside class="declaration">var </aside>lose_text <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 17"></a></h3><p>Text displayed when this quirk is removed from a mob (and not transferred)</p><h3 id="var/medical_record_text"><aside class="declaration">var </aside>medical_record_text <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L19"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 19"></a></h3><p>This text will appear on medical records for the trait. Not yet implemented</p><h3 id="var/quirk_flags"><aside class="declaration">var </aside>quirk_flags <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 11"></a></h3><p>Flags related to this quirk.</p><h3 id="var/quirk_genre"><aside class="declaration">var </aside>quirk_genre <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 9"></a></h3><p>If the quirk is a Boon, Bane, or Neutral</p><h3 id="var/quirk_holder"><aside class="declaration">var </aside>quirk_holder <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 13"></a></h3><p>Reference to the mob currently tied to this quirk datum. Quirks are not singletons.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add"><aside class="declaration">proc </aside>add<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L121"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 121"></a></aside></h3><p>Any effect that should be applied every single time the quirk is added to any mob, even when transferred.</p><h3 id="proc/add_to_holder"><aside class="declaration">proc </aside>add_to_holder<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/new_holder, quirk_transfer, /<a href="client.html">client</a>/client_source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 45"></a></aside></h3><p>Adds the quirk to a new quirk_holder.</p>
<p>Performs logic to make sure new_holder is a valid holder of this quirk.
Returns FALSEy if there was some kind of error. Returns TRUE otherwise.
Arguments:</p>
<ul>
<li>new_holder - The mob to add this quirk to.</li>
<li>quirk_transfer - If this is being added to the holder as part of a quirk transfer. Quirks can use this to decide not to spawn new items or apply any other one-time effects.</li>
</ul><h3 id="proc/add_unique"><aside class="declaration">proc </aside>add_unique<aside>(/<a href="client.html">client</a>/client_source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L126"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 126"></a></aside></h3><p>Any effects from the proc that should not be done multiple times if the quirk is transferred between mobs.
Put stuff like spawning items in here.</p><h3 id="proc/on_holder_qdeleting"><aside class="declaration">proc </aside>on_holder_qdeleting<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, force)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L32"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 32"></a></aside></h3><p>Called when quirk_holder is qdeleting. Simply qdels this datum and lets Destroy() handle the rest.</p><h3 id="proc/on_quirk_holder_first_login"><aside class="declaration">proc </aside>on_quirk_holder_first_login<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L114"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 114"></a></aside></h3><p>On client connection set quirk preferences.</p>
<p>Run post_add to set the client preferences for the quirk.
Clear the attached signal for login.
Used when the quirk has been gained and no client is attached to the mob.</p><h3 id="proc/post_add"><aside class="declaration">proc </aside>post_add<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L135"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 135"></a></aside></h3><p>Any special effects or chat messages which should be applied.
This proc is guaranteed to run if the mob has a client when the quirk is added.
Otherwise, it runs once on the next COMSIG_MOB_LOGIN.</p><h3 id="proc/remove"><aside class="declaration">proc </aside>remove<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L130"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 130"></a></aside></h3><p>Removal of any reversible effects added by the quirk.</p><h3 id="proc/remove_from_current_holder"><aside class="declaration">proc </aside>remove_from_current_holder<aside>(quirk_transfer)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/quirks/_quirk.dm#L86"><img src="git.png" width="16" height="16" title="code/datums/quirks/_quirk.dm 86"></a></aside></h3><p>Removes the quirk from the current quirk_holder.</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>