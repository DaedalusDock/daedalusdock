<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/sound_token - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/sound_token.html#var">Var Details</a> - <a href="datum/sound_token.html#proc">Proc Details</a></header><main><h1>sound_token <aside>/<a href="datum.html">datum</a>/<a href="datum/sound_token.html">sound_token</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L4"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 4"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/sound_token.html#var/falloff_distance">falloff_distance</a></th><td>Sound falloff distance</td></tr><tr><th><a href="datum/sound_token.html#var/falloff_exponent">falloff_exponent</a></th><td>Sound falloff</td></tr><tr><th><a href="datum/sound_token.html#var/listeners">listeners</a></th><td>k:v list of mob : sound status</td></tr><tr><th><a href="datum/sound_token.html#var/null_sound">null_sound</a></th><td>Null sound for cancelling the sound entirely.</td></tr><tr><th><a href="datum/sound_token.html#var/range">range</a></th><td>Sound maximum range</td></tr><tr><th><a href="datum/sound_token.html#var/sound">sound</a></th><td>The master copy of the playing sound.</td></tr><tr><th><a href="datum/sound_token.html#var/sound_channel">sound_channel</a></th><td>The channel being used.</td></tr><tr><th><a href="datum/sound_token.html#var/sound_status">sound_status</a></th><td>Status of the playing sound</td></tr><tr><th><a href="datum/sound_token.html#var/source">source</a></th><td>The atom playing the sound.</td></tr><tr><th><a href="datum/sound_token.html#var/volume">volume</a></th><td>Sound volume</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/sound_token.html#proc/AddListener">AddListener</a></th><td>Adds a listener to the sound.</td></tr><tr><th><a href="datum/sound_token.html#proc/AddOrUpdateListener">AddOrUpdateListener</a></th><td>Updates the data of a listener, or adds them if they are not present.</td></tr><tr><th><a href="datum/sound_token.html#proc/RemoveListener">RemoveListener</a></th><td>Remove a listener from the sound.</td></tr><tr><th><a href="datum/sound_token.html#proc/SetListenerStatus">SetListenerStatus</a></th><td>Set the status of a listener. Does not update the sound.</td></tr><tr><th><a href="datum/sound_token.html#proc/SetVolume">SetVolume</a></th><td>Setter for volume</td></tr><tr><th><a href="datum/sound_token.html#proc/listener_deafness_update">listener_deafness_update</a></th><td>Respond to TRAIT_DEAF addition/removal</td></tr><tr><th><a href="datum/sound_token.html#proc/listener_moved">listener_moved</a></th><td>Respond to a listener moving.</td></tr><tr><th><a href="datum/sound_token.html#proc/player_login">player_login</a></th><td>Respond to any mob in the world being logged into.</td></tr><tr><th><a href="datum/sound_token.html#proc/player_logout">player_logout</a></th><td>Respond to any cliented mob becoming uncliented</td></tr><tr><th><a href="datum/sound_token.html#proc/source_moved">source_moved</a></th><td>If the sound source moves, update all listeners.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/falloff_distance"><aside class="declaration">var </aside>falloff_distance <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 17"></a></h3><p>Sound falloff distance</p><h3 id="var/falloff_exponent"><aside class="declaration">var </aside>falloff_exponent <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 15"></a></h3><p>Sound falloff</p><h3 id="var/listeners"><aside class="declaration">var </aside>listeners <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 8"></a></h3><p>k:v list of mob : sound status</p><h3 id="var/null_sound"><aside class="declaration">var </aside>null_sound <aside>– /sound</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 22"></a></h3><p>Null sound for cancelling the sound entirely.</p><h3 id="var/range"><aside class="declaration">var </aside>range <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L11"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 11"></a></h3><p>Sound maximum range</p><h3 id="var/sound"><aside class="declaration">var </aside>sound <aside>– /sound</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 20"></a></h3><p>The master copy of the playing sound.</p><h3 id="var/sound_channel"><aside class="declaration">var </aside>sound_channel <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 27"></a></h3><p>The channel being used.</p><h3 id="var/sound_status"><aside class="declaration">var </aside>sound_status <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 25"></a></h3><p>Status of the playing sound</p><h3 id="var/source"><aside class="declaration">var </aside>source <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L6"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 6"></a></h3><p>The atom playing the sound.</p><h3 id="var/volume"><aside class="declaration">var </aside>volume <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 13"></a></h3><p>Sound volume</p><h2 id="proc">Proc Details</h2><h3 id="proc/AddListener"><aside class="declaration">proc </aside>AddListener<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L70"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 70"></a></aside></h3><p>Adds a listener to the sound.</p><h3 id="proc/AddOrUpdateListener"><aside class="declaration">proc </aside>AddOrUpdateListener<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L62"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 62"></a></aside></h3><p>Updates the data of a listener, or adds them if they are not present.</p><h3 id="proc/RemoveListener"><aside class="declaration">proc </aside>RemoveListener<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L85"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 85"></a></aside></h3><p>Remove a listener from the sound.</p><h3 id="proc/SetListenerStatus"><aside class="declaration">proc </aside>SetListenerStatus<aside>(/<a href="mob.html">mob</a>/M, new_status)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L140"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 140"></a></aside></h3><p>Set the status of a listener. Does not update the sound.</p><h3 id="proc/SetVolume"><aside class="declaration">proc </aside>SetVolume<aside>(new_volume)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L135"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 135"></a></aside></h3><p>Setter for volume</p><h3 id="proc/listener_deafness_update"><aside class="declaration">proc </aside>listener_deafness_update<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L152"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 152"></a></aside></h3><p>Respond to TRAIT_DEAF addition/removal</p><h3 id="proc/listener_moved"><aside class="declaration">proc </aside>listener_moved<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L147"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 147"></a></aside></h3><p>Respond to a listener moving.</p><h3 id="proc/player_login"><aside class="declaration">proc </aside>player_login<aside>(/<a href="mob.html">mob</a>/player)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L161"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 161"></a></aside></h3><p>Respond to any mob in the world being logged into.</p><h3 id="proc/player_logout"><aside class="declaration">proc </aside>player_logout<aside>(/<a href="mob.html">mob</a>/player)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L166"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 166"></a></aside></h3><p>Respond to any cliented mob becoming uncliented</p><h3 id="proc/source_moved"><aside class="declaration">proc </aside>source_moved<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/datums/sound_token.dm#L171"><img src="git.png" width="16" height="16" title="code/datums/sound_token.dm 171"></a></aside></h3><p>If the sound source moves, update all listeners.</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>