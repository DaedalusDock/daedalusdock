<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/status_effect - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/status_effect.html#var">Var Details</a> - <a href="datum/status_effect.html#proc">Proc Details</a></header><main><h1>status_effect <aside>/<a href="datum.html">datum</a>/<a href="datum/status_effect.html">status_effect</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L3"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 3"></a></h1><p>Status effects are used to apply temporary or permanent effects to mobs.
This file contains their code, plus code for applying and removing them.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/status_effect.html#var/alert_type">alert_type</a></th><td>The typepath to the alert thrown by the status effect when created.
Status effect &quot;name&quot;s and &quot;description&quot;s are shown to the owner here.</td></tr><tr><th><a href="datum/status_effect.html#var/duration">duration</a></th><td>When set initially / in on_creation, this is how long the status effect lasts in deciseconds.
While processing, this becomes the world.time when the status effect will expire.
-1 = infinite duration.</td></tr><tr><th><a href="datum/status_effect.html#var/id">id</a></th><td>The ID of the effect. ID is used in adding and removing effects to check for duplicates, among other things.</td></tr><tr><th><a href="datum/status_effect.html#var/linked_alert">linked_alert</a></th><td>The alert itself, created in [proc/on_creation] (if alert_type is specified).</td></tr><tr><th><a href="datum/status_effect.html#var/max_duration">max_duration</a></th><td>The maximum duration this status effect can be.
-1 = No limit</td></tr><tr><th><a href="datum/status_effect.html#var/on_remove_on_mob_delete">on_remove_on_mob_delete</a></th><td>If TRUE, we call [proc/on_remove] when owner is deleted. Otherwise, we call [proc/be_replaced].</td></tr><tr><th><a href="datum/status_effect.html#var/owner">owner</a></th><td>The mob affected by the status effect.</td></tr><tr><th><a href="datum/status_effect.html#var/processing_speed">processing_speed</a></th><td>Used to define if the status effect should be using SSfastprocess or SSprocessing</td></tr><tr><th><a href="datum/status_effect.html#var/status_type">status_type</a></th><td>How many of the effect can be on one mob, and/or what happens when you try to add a duplicate.</td></tr><tr><th><a href="datum/status_effect.html#var/tick_interval">tick_interval</a></th><td>When set initially / in on_creation, this is how long between [proc/tick] calls in deciseconds.
While processing, this becomes the world.time when the next tick will occur.
-1 = will stop processing, if duration is also unlimited (-1).</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/status_effect.html#proc/be_replaced">be_replaced</a></th><td>Called instead of on_remove when a status effect
of status_type STATUS_EFFECT_REPLACE is replaced by itself,
or when a status effect with on_remove_on_mob_delete
set to FALSE has its mob deleted</td></tr><tr><th><a href="datum/status_effect.html#proc/before_remove">before_remove</a></th><td>Called before being fully removed (before on_remove)
Returning FALSE will cancel removal</td></tr><tr><th><a href="datum/status_effect.html#proc/extend">extend</a></th><td>Called when a status effect of status_type STATUS_EFFECT_EXTEND
has its duration extended in apply_status_effect - is passed New() args</td></tr><tr><th><a href="datum/status_effect.html#proc/get_examine_text">get_examine_text</a></th><td>Gets and formats examine text associated with our status effect.
Return 'null' to have no examine text appear (default behavior).</td></tr><tr><th><a href="datum/status_effect.html#proc/nextmove_adjust">nextmove_adjust</a></th><td>Adds nextmove adjustment additiviely to the owner while applied</td></tr><tr><th><a href="datum/status_effect.html#proc/nextmove_modifier">nextmove_modifier</a></th><td>Adds nextmove modifier multiplicatively to the owner while applied</td></tr><tr><th><a href="datum/status_effect.html#proc/on_apply">on_apply</a></th><td>Called whenever the effect is applied in on_created
Returning FALSE will cause it to delete itself during creation instead.</td></tr><tr><th><a href="datum/status_effect.html#proc/on_creation">on_creation</a></th><td>Called from New() with any supplied status effect arguments.
Not guaranteed to exist by the end.
Returning FALSE from on_apply will stop on_creation and self-delete the effect.</td></tr><tr><th><a href="datum/status_effect.html#proc/on_remove">on_remove</a></th><td>Called whenever the buff expires or is removed (qdeleted)
Note that at the point this is called, it is out of the
owner's status_effects list, but owner is not yet null</td></tr><tr><th><a href="datum/status_effect.html#proc/refresh">refresh</a></th><td>Called when a status effect of status_type STATUS_EFFECT_REFRESH
has its duration refreshed in apply_status_effect - is passed New() args</td></tr><tr><th><a href="datum/status_effect.html#proc/remove_duration">remove_duration</a></th><td>Remove [seconds] of duration from the status effect, qdeling / ending if we eclipse the current world time.</td></tr><tr><th><a href="datum/status_effect.html#proc/tick">tick</a></th><td>Called every tick from process().</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/alert_type"><aside class="declaration">var </aside>alert_type <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 25"></a></h3><p>The typepath to the alert thrown by the status effect when created.
Status effect &quot;name&quot;s and &quot;description&quot;s are shown to the owner here.</p><h3 id="var/duration"><aside class="declaration">var </aside>duration <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 9"></a></h3><p>When set initially / in on_creation, this is how long the status effect lasts in deciseconds.
While processing, this becomes the world.time when the status effect will expire.
-1 = infinite duration.</p><h3 id="var/id"><aside class="declaration">var </aside>id <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L5"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 5"></a></h3><p>The ID of the effect. ID is used in adding and removing effects to check for duplicates, among other things.</p><h3 id="var/linked_alert"><aside class="declaration">var </aside>linked_alert <aside>– /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/<a href="atom/movable/screen.html">screen</a>/<a href="atom/movable/screen/alert.html">alert</a>/<a href="atom/movable/screen/alert/status_effect.html">status_effect</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L27"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 27"></a></h3><p>The alert itself, created in [proc/on_creation] (if alert_type is specified).</p><h3 id="var/max_duration"><aside class="declaration">var </aside>max_duration <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L12"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 12"></a></h3><p>The maximum duration this status effect can be.
-1 = No limit</p><h3 id="var/on_remove_on_mob_delete"><aside class="declaration">var </aside>on_remove_on_mob_delete <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 22"></a></h3><p>If TRUE, we call [proc/on_remove] when owner is deleted. Otherwise, we call [proc/be_replaced].</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 18"></a></h3><p>The mob affected by the status effect.</p><h3 id="var/processing_speed"><aside class="declaration">var </aside>processing_speed <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L29"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 29"></a></h3><p>Used to define if the status effect should be using SSfastprocess or SSprocessing</p><h3 id="var/status_type"><aside class="declaration">var </aside>status_type <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 20"></a></h3><p>How many of the effect can be on one mob, and/or what happens when you try to add a duplicate.</p><h3 id="var/tick_interval"><aside class="declaration">var </aside>tick_interval <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 16"></a></h3><p>When set initially / in on_creation, this is how long between [proc/tick] calls in deciseconds.
While processing, this becomes the world.time when the next tick will occur.
-1 = will stop processing, if duration is also unlimited (-1).</p><h2 id="proc">Proc Details</h2><h3 id="proc/be_replaced"><aside class="declaration">proc </aside>be_replaced<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L118"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 118"></a></aside></h3><p>Called instead of on_remove when a status effect
of status_type STATUS_EFFECT_REPLACE is replaced by itself,
or when a status effect with on_remove_on_mob_delete
set to FALSE has its mob deleted</p><h3 id="proc/before_remove"><aside class="declaration">proc </aside>before_remove<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L127"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 127"></a></aside></h3><p>Called before being fully removed (before on_remove)
Returning FALSE will cancel removal</p><h3 id="proc/extend"><aside class="declaration">proc </aside>extend<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/parent, effect_path, ...)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L140"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 140"></a></aside></h3><p>Called when a status effect of status_type STATUS_EFFECT_EXTEND
has its duration extended in apply_status_effect - is passed New() args</p><h3 id="proc/get_examine_text"><aside class="declaration">proc </aside>get_examine_text<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L101"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 101"></a></aside></h3><p>Gets and formats examine text associated with our status effect.
Return 'null' to have no examine text appear (default behavior).</p><h3 id="proc/nextmove_adjust"><aside class="declaration">proc </aside>nextmove_adjust<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L151"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 151"></a></aside></h3><p>Adds nextmove adjustment additiviely to the owner while applied</p><h3 id="proc/nextmove_modifier"><aside class="declaration">proc </aside>nextmove_modifier<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L147"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 147"></a></aside></h3><p>Adds nextmove modifier multiplicatively to the owner while applied</p><h3 id="proc/on_apply"><aside class="declaration">proc </aside>on_apply<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L96"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 96"></a></aside></h3><p>Called whenever the effect is applied in on_created
Returning FALSE will cause it to delete itself during creation instead.</p><h3 id="proc/on_creation"><aside class="declaration">proc </aside>on_creation<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/new_owner, ...)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L37"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 37"></a></aside></h3><p>Called from New() with any supplied status effect arguments.
Not guaranteed to exist by the end.
Returning FALSE from on_apply will stop on_creation and self-delete the effect.</p><h3 id="proc/on_remove"><aside class="declaration">proc </aside>on_remove<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L111"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 111"></a></aside></h3><p>Called whenever the buff expires or is removed (qdeleted)
Note that at the point this is called, it is out of the
owner's status_effects list, but owner is not yet null</p><h3 id="proc/refresh"><aside class="declaration">proc </aside>refresh<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/parent, effect_path, ...)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L132"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 132"></a></aside></h3><p>Called when a status effect of status_type STATUS_EFFECT_REFRESH
has its duration refreshed in apply_status_effect - is passed New() args</p><h3 id="proc/remove_duration"><aside class="declaration">proc </aside>remove_duration<aside>(seconds)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L155"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 155"></a></aside></h3><p>Remove [seconds] of duration from the status effect, qdeling / ending if we eclipse the current world time.</p><h3 id="proc/tick"><aside class="declaration">proc </aside>tick<aside>(delta_time, times_fired)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/a11ad7c401daeb2805315aa8820f21ea7c1bf233/code/datums/status_effects/_status_effect.dm#L105"><img src="git.png" width="16" height="16" title="code/datums/status_effects/_status_effect.dm 105"></a></aside></h3><p>Called every tick from process().</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/a11ad7c401daeb2805315aa8820f21ea7c1bf233">a11ad7c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>