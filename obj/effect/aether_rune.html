<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/effect/aether_rune - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/effect/aether_rune.html#var">Var Details</a> - <a href="obj/effect/aether_rune.html#proc">Proc Details</a></header><main><h1>aether_rune <aside>/<a href="obj.html">obj</a>/<a href="obj/effect/aether_rune.html">effect/aether_rune</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 2"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/effect/aether_rune.html#var/blackboard">blackboard</a></th><td>Misc state tracking</td></tr><tr><th><a href="obj/effect/aether_rune.html#var/outer_ring">outer_ring</a></th><td>Outer ring inside our vis_contents, to be animated seperately.</td></tr><tr><th><a href="obj/effect/aether_rune.html#var/required_blood_amt">required_blood_amt</a></th><td>How much blood the miracle needs.</td></tr><tr><th><a href="obj/effect/aether_rune.html#var/required_helpers">required_helpers</a></th><td>How many extra people are needed to invoke the rune.</td></tr><tr><th><a href="obj/effect/aether_rune.html#var/rune_type">rune_type</a></th><td>Used to build the appearance.</td></tr><tr><th><a href="obj/effect/aether_rune.html#var/timed_action">timed_action</a></th><td>Timed action datum that manages the invocation process.</td></tr><tr><th><a href="obj/effect/aether_rune.html#var/touching_rune">touching_rune</a></th><td>A lazylist of mobs currently touching the rune.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/begin_invoke">begin_invoke</a></th><td>Begin invoking a rune.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/can_invoke">can_invoke</a></th><td>Returns TRUE if the rune can be invoked.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/fail_invoke">fail_invoke</a></th><td>Called when invocation fails.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/find_target_mob">find_target_mob</a></th><td>Gets a mob that is in the center of the rune.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/helper_cant_help_no_more">helper_cant_help_no_more</a></th><td>Removes a helper for moving or being deleted, or becoming incapacitated.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/helper_dir_change">helper_dir_change</a></th><td>Removes a helper for being knocked out or killed</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/helper_stat_change">helper_stat_change</a></th><td>Removes a helper for being knocked out or killed</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/invoke_success_visual_effect">invoke_success_visual_effect</a></th><td>Visual effect when the rune is successfully invoked.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/invoker_dir_change">invoker_dir_change</a></th><td>Removes a helper for being knocked out or killed</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/pre_invoke">pre_invoke</a></th><td>Called before any other step of invoking, sets up state.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/register_helper">register_helper</a></th><td>Registers a mob as attempting to invoke this rune.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/register_target_mob">register_target_mob</a></th><td>Registers a target, overridable if you override get_target().</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/remove_helper">remove_helper</a></th><td>Removes a helper.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/set_tome">set_tome</a></th><td>Set the tome in the blackboard</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/start_invoke_animation">start_invoke_animation</a></th><td>Does what it says on the tin</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/stop_invoke_animation">stop_invoke_animation</a></th><td>Does what it says on the tin</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/succeed_invoke">succeed_invoke</a></th><td>Finish invoking a rune.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/target_moved_or_deleted">target_moved_or_deleted</a></th><td>Handle the target being moved.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/tome_dropped">tome_dropped</a></th><td>Handles the tome being moved</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/try_cancel_invoke">try_cancel_invoke</a></th><td>Cancel the invocation if it wasn't cancelled already.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/try_invoke">try_invoke</a></th><td>Attempt to invoke the rune.</td></tr><tr><th><a href="obj/effect/aether_rune.html#proc/unregister_target_mob">unregister_target_mob</a></th><td>Clear the target's signals</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/blackboard"><aside class="declaration">var </aside>blackboard <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L23"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 23"></a></h3><p>Misc state tracking</p><h3 id="var/outer_ring"><aside class="declaration">var </aside>outer_ring <aside>– /<a href="obj.html">obj</a>/effect/abstract</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L45"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 45"></a></h3><p>Outer ring inside our vis_contents, to be animated seperately.</p><h3 id="var/required_blood_amt"><aside class="declaration">var </aside>required_blood_amt <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 26"></a></h3><p>How much blood the miracle needs.</p><h3 id="var/required_helpers"><aside class="declaration">var </aside>required_helpers <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 28"></a></h3><p>How many extra people are needed to invoke the rune.</p><h3 id="var/rune_type"><aside class="declaration">var </aside>rune_type <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 18"></a></h3><p>Used to build the appearance.</p><h3 id="var/timed_action"><aside class="declaration">var </aside>timed_action <aside>– /<a href="datum.html">datum</a>/<a href="datum/timed_action.html">timed_action</a>/aether_rune</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 41"></a></h3><p>Timed action datum that manages the invocation process.</p><h3 id="var/touching_rune"><aside class="declaration">var </aside>touching_rune <aside>– /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 30"></a></h3><p>A lazylist of mobs currently touching the rune.</p><h2 id="proc">Proc Details</h2><h3 id="proc/begin_invoke"><aside class="declaration">proc </aside>begin_invoke<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L206"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 206"></a></aside></h3><p>Begin invoking a rune.</p><h3 id="proc/can_invoke"><aside class="declaration">proc </aside>can_invoke<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L164"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 164"></a></aside></h3><p>Returns TRUE if the rune can be invoked.</p><h3 id="proc/fail_invoke"><aside class="declaration">proc </aside>fail_invoke<aside>(failure_reason, failure_source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L234"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 234"></a></aside></h3><p>Called when invocation fails.</p><h3 id="proc/find_target_mob"><aside class="declaration">proc </aside>find_target_mob<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L297"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 297"></a></aside></h3><p>Gets a mob that is in the center of the rune.</p><h3 id="proc/helper_cant_help_no_more"><aside class="declaration">proc </aside>helper_cant_help_no_more<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L405"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 405"></a></aside></h3><p>Removes a helper for moving or being deleted, or becoming incapacitated.</p><h3 id="proc/helper_dir_change"><aside class="declaration">proc </aside>helper_dir_change<aside>(/<a href="datum.html">datum</a>/source, dir, newdir)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L429"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 429"></a></aside></h3><p>Removes a helper for being knocked out or killed</p><h3 id="proc/helper_stat_change"><aside class="declaration">proc </aside>helper_stat_change<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L422"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 422"></a></aside></h3><p>Removes a helper for being knocked out or killed</p><h3 id="proc/invoke_success_visual_effect"><aside class="declaration">proc </aside>invoke_success_visual_effect<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L279"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 279"></a></aside></h3><p>Visual effect when the rune is successfully invoked.</p><h3 id="proc/invoker_dir_change"><aside class="declaration">proc </aside>invoker_dir_change<aside>(/<a href="datum.html">datum</a>/source, dir, newdir)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L387"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 387"></a></aside></h3><p>Removes a helper for being knocked out or killed</p><h3 id="proc/pre_invoke"><aside class="declaration">proc </aside>pre_invoke<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/aether_tome/tome)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L184"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 184"></a></aside></h3><p>Called before any other step of invoking, sets up state.</p><h3 id="proc/register_helper"><aside class="declaration">proc </aside>register_helper<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/L)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L320"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 320"></a></aside></h3><p>Registers a mob as attempting to invoke this rune.</p><h3 id="proc/register_target_mob"><aside class="declaration">proc </aside>register_target_mob<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/target)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L311"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 311"></a></aside></h3><p>Registers a target, overridable if you override get_target().</p><h3 id="proc/remove_helper"><aside class="declaration">proc </aside>remove_helper<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/L)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L328"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 328"></a></aside></h3><p>Removes a helper.</p><h3 id="proc/set_tome"><aside class="declaration">proc </aside>set_tome<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/tome)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L344"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 344"></a></aside></h3><p>Set the tome in the blackboard</p><h3 id="proc/start_invoke_animation"><aside class="declaration">proc </aside>start_invoke_animation<aside>(time)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L254"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 254"></a></aside></h3><p>Does what it says on the tin</p><h3 id="proc/stop_invoke_animation"><aside class="declaration">proc </aside>stop_invoke_animation<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L268"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 268"></a></aside></h3><p>Does what it says on the tin</p><h3 id="proc/succeed_invoke"><aside class="declaration">proc </aside>succeed_invoke<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/target_mob)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L216"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 216"></a></aside></h3><p>Finish invoking a rune.</p><h3 id="proc/target_moved_or_deleted"><aside class="declaration">proc </aside>target_moved_or_deleted<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L461"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 461"></a></aside></h3><p>Handle the target being moved.</p><h3 id="proc/tome_dropped"><aside class="declaration">proc </aside>tome_dropped<aside>(/<a href="datum.html">datum</a>/source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L454"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 454"></a></aside></h3><p>Handles the tome being moved</p><h3 id="proc/try_cancel_invoke"><aside class="declaration">proc </aside>try_cancel_invoke<aside>(reason, source)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L242"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 242"></a></aside></h3><p>Cancel the invocation if it wasn't cancelled already.</p><h3 id="proc/try_invoke"><aside class="declaration">proc </aside>try_invoke<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/aether_tome/tome)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L152"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 152"></a></aside></h3><p>Attempt to invoke the rune.</p><h3 id="proc/unregister_target_mob"><aside class="declaration">proc </aside>unregister_target_mob<aside>(target)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/aether/runes/_aether_runes.dm#L316"><img src="git.png" width="16" height="16" title="code/modules/aether/runes/_aether_runes.dm 316"></a></aside></h3><p>Clear the target's signals</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>