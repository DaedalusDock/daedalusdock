<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/item/organ - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="obj/item/organ.html#var">Var Details</a> - <a href="obj/item/organ.html#proc">Proc Details</a></header><main><h1>organ <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L2"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 2"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/item/organ.html#var/color_source">color_source</a></th><td>Where does this organ inherit it's color from?</td></tr><tr><th><a href="obj/item/organ.html#var/cosmetic_only">cosmetic_only</a></th><td>If the organ is cosmetic only, it loses all organ functionality.</td></tr><tr><th><a href="obj/item/organ.html#var/damage">damage</a></th><td>Total damage this organ has sustained
Should only ever be modified by applyOrganDamage</td></tr><tr><th><a href="obj/item/organ.html#var/dna_block">dna_block</a></th><td>With what DNA block do we mutate in mutate_feature() ? For genetics</td></tr><tr><th><a href="obj/item/organ.html#var/draw_color">draw_color</a></th><td>The color this organ draws with. Updated by bodypart/inherit_color()</td></tr><tr><th><a href="obj/item/organ.html#var/external_bodytypes">external_bodytypes</a></th><td>Does this organ have any bodytypes to pass to it's ownerlimb?</td></tr><tr><th><a href="obj/item/organ.html#var/external_damage_modifier">external_damage_modifier</a></th><td>Amount of damage to take when taking damage from an external source</td></tr><tr><th><a href="obj/item/organ.html#var/feature_key">feature_key</a></th><td>Defines what kind of 'organ' we're looking at. Sprites have names like 'm_mothwings_firemoth'. 'mothwings' would then be feature_key</td></tr><tr><th><a href="obj/item/organ.html#var/layers">layers</a></th><td>Sometimes we need multiple layers, for like the back, middle and front of the person</td></tr><tr><th><a href="obj/item/organ.html#var/mutcolor_index">mutcolor_index</a></th><td>Which index of the mutcolor key list to use. Defaults to 1, so MUTCOLORS_GENERIC_1 if mutcolor_used is MUTCOLORS_KEY_GENERIC</td></tr><tr><th><a href="obj/item/organ.html#var/mutcolor_used">mutcolor_used</a></th><td>See above</td></tr><tr><th><a href="obj/item/organ.html#var/mutcolors">mutcolors</a></th><td>Used by ORGAN_COLOR_INHERIT_ALL, allows full control of the owner's mutcolors</td></tr><tr><th><a href="obj/item/organ.html#var/organ_traits">organ_traits</a></th><td>Traits that are given to the holder of the organ. If you want an effect that changes this, don't add directly to this. Use the add_organ_trait() proc</td></tr><tr><th><a href="obj/item/organ.html#var/owner">owner</a></th><td>The mob that owns this organ.</td></tr><tr><th><a href="obj/item/organ.html#var/ownerlimb">ownerlimb</a></th><td>Reference to the limb we're inside of</td></tr><tr><th><a href="obj/item/organ.html#var/preference">preference</a></th><td>The savefile_key of the preference this relates to. Used for the preferences UI.</td></tr><tr><th><a href="obj/item/organ.html#var/prev_damage">prev_damage</a></th><td>Organ variables for determining what we alert the owner with when they pass/clear the damage thresholds</td></tr><tr><th><a href="obj/item/organ.html#var/reagent_vol">reagent_vol</a></th><td>The size of the reagent container</td></tr><tr><th><a href="obj/item/organ.html#var/relative_size">relative_size</a></th><td>The relative size of this organ, used for probability to hit.</td></tr><tr><th><a href="obj/item/organ.html#var/render_key">render_key</a></th><td>Similar to feature key, but overrides it in the case you need more fine control over the iconstate, like with Tails.</td></tr><tr><th><a href="obj/item/organ.html#var/severe_cooldown">severe_cooldown</a></th><td>cooldown for severe effects, used for synthetic organ emp effects.</td></tr><tr><th><a href="obj/item/organ.html#var/slot">slot</a></th><td>The organ slot this organ is supposed to inhabit. This should be unique by type. (Lungs, Appendix, Stomach, etc)</td></tr><tr><th><a href="obj/item/organ.html#var/sprite_datum">sprite_datum</a></th><td>Sprite datum we use to draw on the bodypart</td></tr><tr><th><a href="obj/item/organ.html#var/stored_feature_id">stored_feature_id</a></th><td>Stores the dna.features[feature_key], used for external organs that can be surgically removed or inserted.</td></tr><tr><th><a href="obj/item/organ.html#var/time_of_death">time_of_death</a></th><td>The world.time of this organ's death</td></tr><tr><th><a href="obj/item/organ.html#var/useable">useable</a></th><td>When you take a bite you cant jam it in for surgery anymore.</td></tr><tr><th><a href="obj/item/organ.html#var/visual">visual</a></th><td>Do we effect the appearance of our mob. Used to save time in preference code</td></tr><tr><th><a href="obj/item/organ.html#var/zone">zone</a></th><td>The body zone this organ is supposed to inhabit.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/item/organ.html#proc/add_organ_trait">add_organ_trait</a></th><td>Add a trait to an organ that it will give its owner.</td></tr><tr><th><a href="obj/item/organ.html#proc/applyOrganDamage">applyOrganDamage</a></th><td>Adjusts an organ's damage by the amount &quot;damage_amount&quot;, up to a maximum amount, which is by default max damage</td></tr><tr><th><a href="obj/item/organ.html#proc/attempt_vital_organ_revival">attempt_vital_organ_revival</a></th><td>Called by Insert() if the organ is vital and the target is dead.</td></tr><tr><th><a href="obj/item/organ.html#proc/before_organ_replacement">before_organ_replacement</a></th><td>Called before organs are replaced in regenerate_organs with new ones</td></tr><tr><th><a href="obj/item/organ.html#proc/build_cache_key">build_cache_key</a></th><td>Generate a unique key based on our sprites. So that if we've aleady drawn these sprites, they can be found in the cache and wont have to be drawn again (blessing and curse)</td></tr><tr><th><a href="obj/item/organ.html#proc/build_overlays">build_overlays</a></th><td>Build overlays</td></tr><tr><th><a href="obj/item/organ.html#proc/can_draw_on_bodypart">can_draw_on_bodypart</a></th><td>Check whether we can draw the overlays. You generally don't want lizard snouts to draw over an EVA suit</td></tr><tr><th><a href="obj/item/organ.html#proc/can_recover">can_recover</a></th><td>Can this organ be revived from the dead?</td></tr><tr><th><a href="obj/item/organ.html#proc/check_damage_thresholds">check_damage_thresholds</a></th><td></td></tr><tr><th><a href="obj/item/organ.html#proc/check_failing_thresholds">check_failing_thresholds</a></th><td>Checks if an organ should/shouldn't be failing and gives the appropriate organ flag</td></tr><tr><th><a href="obj/item/organ.html#proc/cut_away">cut_away</a></th><td>Cut an organ away from it's container, but do not remove it from the container physically.</td></tr><tr><th><a href="obj/item/organ.html#proc/damage_threshold_message">damage_threshold_message</a></th><td>Converts damage threshold state changes to text</td></tr><tr><th><a href="obj/item/organ.html#proc/ex_act">ex_act</a></th><td>A little hack to ensure old behavior.</td></tr><tr><th><a href="obj/item/organ.html#proc/exit_wardrobe">exit_wardrobe</a></th><td>Used as callbacks by object pooling</td></tr><tr><th><a href="obj/item/organ.html#proc/get_availability">get_availability</a></th><td></td></tr><tr><th><a href="obj/item/organ.html#proc/get_global_feature_list">get_global_feature_list</a></th><td>Return a dumb glob list for this specific feature (called from parse_sprite)</td></tr><tr><th><a href="obj/item/organ.html#proc/get_overlays">get_overlays</a></th><td>Add the overlays we need to draw on a person. Called from _bodyparts.dm</td></tr><tr><th><a href="obj/item/organ.html#proc/get_scan_results">get_scan_results</a></th><td>Called by medical scanners to get a simple summary of how healthy the organ is. Returns an empty string if things are fine.</td></tr><tr><th><a href="obj/item/organ.html#proc/inherit_color">inherit_color</a></th><td>Give the organ it's color. Force will override the existing one.</td></tr><tr><th><a href="obj/item/organ.html#proc/is_causing_pain">is_causing_pain</a></th><td>Returns TRUE if this organ is able to cause pain to the parent during handle_pain()</td></tr><tr><th><a href="obj/item/organ.html#proc/mutate_feature">mutate_feature</a></th><td>Update our features after something changed our appearance</td></tr><tr><th><a href="obj/item/organ.html#proc/on_death">on_death</a></th><td>This is on_life() but for when the owner is dead or outside of a mob. Bad name.</td></tr><tr><th><a href="obj/item/organ.html#proc/on_life">on_life</a></th><td>Called once every life tick on every organ in a carbon's body
NOTE: THIS IS VERY HOT. Be careful what you put in here
To give you some scale, if there's 100 carbons in the game, they each have maybe 9 organs
So that's 900 calls to this proc every life process. Please don't be dumb
Return TRUE to call updatehealth(). Please only call inside of on_life() if it's important.</td></tr><tr><th><a href="obj/item/organ.html#proc/override_color">override_color</a></th><td>Colorizes the limb it's inserted to, if required.</td></tr><tr><th><a href="obj/item/organ.html#proc/passed_high_threshold">passed_high_threshold</a></th><td>Returns TRUE if the organ is damaged above it's high threshold.</td></tr><tr><th><a href="obj/item/organ.html#proc/passed_low_threshold">passed_low_threshold</a></th><td>Returns TRUE if the organ is damaged above it's low threshold.</td></tr><tr><th><a href="obj/item/organ.html#proc/remove_organ_trait">remove_organ_trait</a></th><td>Removes a trait from an organ, and by extension, its owner.</td></tr><tr><th><a href="obj/item/organ.html#proc/setOrganDamage">setOrganDamage</a></th><td>SETS an organ's damage to the amount &quot;damage_amount&quot;, and in doing so clears or sets the failing flag, good for when you have an effect that should fix an organ if broken</td></tr><tr><th><a href="obj/item/organ.html#proc/set_organ_dead">set_organ_dead</a></th><td>Set or unset the organ as failing. Returns TRUE on success.</td></tr><tr><th><a href="obj/item/organ.html#proc/set_sprite">set_sprite</a></th><td>System for drawing organs with overlays. These overlays are drawn directly on the bodypart, attached to a person or not
Works in tandem with the /datum/sprite_accessory datum to generate sprites
Unlike normal organs, we're actually inside a persons limbs at all times</td></tr><tr><th><a href="obj/item/organ.html#proc/surgically_fix">surgically_fix</a></th><td>Used for the fix_organ surgery, lops off some of the maxHealth if the organ was very damaged.</td></tr><tr><th><a href="obj/item/organ.html#proc/update_organ_traits">update_organ_traits</a></th><td>Updates the traits of the organ on the specific organ it is called on. Should be called anytime an organ is given a trait while it is already in a body.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/color_source"><aside class="declaration">var </aside>color_source <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 36"></a></h3><p>Where does this organ inherit it's color from?</p><h3 id="var/cosmetic_only"><aside class="declaration">var </aside>cosmetic_only <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 56"></a></h3><p>If the organ is cosmetic only, it loses all organ functionality.</p><h3 id="var/damage"><aside class="declaration">var </aside>damage <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 22"></a></h3><p>Total damage this organ has sustained
Should only ever be modified by applyOrganDamage</p><h3 id="var/dna_block"><aside class="declaration">var </aside>dna_block <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 27"></a></h3><p>With what DNA block do we mutate in mutate_feature() ? For genetics</p><h3 id="var/draw_color"><aside class="declaration">var </aside>draw_color <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 33"></a></h3><p>The color this organ draws with. Updated by bodypart/inherit_color()</p><h3 id="var/external_bodytypes"><aside class="declaration">var </aside>external_bodytypes <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 46"></a></h3><p>Does this organ have any bodytypes to pass to it's ownerlimb?</p><h3 id="var/external_damage_modifier"><aside class="declaration">var </aside>external_damage_modifier <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L33"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 33"></a></h3><p>Amount of damage to take when taking damage from an external source</p><h3 id="var/feature_key"><aside class="declaration">var </aside>feature_key <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L15"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 15"></a></h3><p>Defines what kind of 'organ' we're looking at. Sprites have names like 'm_mothwings_firemoth'. 'mothwings' would then be feature_key</p><h3 id="var/layers"><aside class="declaration">var </aside>layers <aside>â€“ /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 12"></a></h3><p>Sometimes we need multiple layers, for like the back, middle and front of the person</p><h3 id="var/mutcolor_index"><aside class="declaration">var </aside>mutcolor_index <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L43"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 43"></a></h3><p>Which index of the mutcolor key list to use. Defaults to 1, so MUTCOLORS_GENERIC_1 if mutcolor_used is MUTCOLORS_KEY_GENERIC</p><h3 id="var/mutcolor_used"><aside class="declaration">var </aside>mutcolor_used <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L41"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 41"></a></h3><p>See above</p><h3 id="var/mutcolors"><aside class="declaration">var </aside>mutcolors <aside>â€“ /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 39"></a></h3><p>Used by ORGAN_COLOR_INHERIT_ALL, allows full control of the owner's mutcolors</p><h3 id="var/organ_traits"><aside class="declaration">var </aside>organ_traits <aside>â€“ /list</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L58"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 58"></a></h3><p>Traits that are given to the holder of the organ. If you want an effect that changes this, don't add directly to this. Use the add_organ_trait() proc</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>â€“ /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 12"></a></h3><p>The mob that owns this organ.</p><h3 id="var/ownerlimb"><aside class="declaration">var </aside>ownerlimb <aside>â€“ /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 30"></a></h3><p>Reference to the limb we're inside of</p><h3 id="var/preference"><aside class="declaration">var </aside>preference <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L21"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 21"></a></h3><p>The savefile_key of the preference this relates to. Used for the preferences UI.</p><h3 id="var/prev_damage"><aside class="declaration">var </aside>prev_damage <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 39"></a></h3><p>Organ variables for determining what we alert the owner with when they pass/clear the damage thresholds</p><h3 id="var/reagent_vol"><aside class="declaration">var </aside>reagent_vol <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L51"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 51"></a></h3><p>The size of the reagent container</p><h3 id="var/relative_size"><aside class="declaration">var </aside>relative_size <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L31"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 31"></a></h3><p>The relative size of this organ, used for probability to hit.</p><h3 id="var/render_key"><aside class="declaration">var </aside>render_key <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L17"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 17"></a></h3><p>Similar to feature key, but overrides it in the case you need more fine control over the iconstate, like with Tails.</p><h3 id="var/severe_cooldown"><aside class="declaration">var </aside>severe_cooldown <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 36"></a></h3><p>cooldown for severe effects, used for synthetic organ emp effects.</p><h3 id="var/slot"><aside class="declaration">var </aside>slot <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 16"></a></h3><p>The organ slot this organ is supposed to inhabit. This should be unique by type. (Lungs, Appendix, Stomach, etc)</p><h3 id="var/sprite_datum"><aside class="declaration">var </aside>sprite_datum <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/sprite_accessory.html">sprite_accessory</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 24"></a></h3><p>Sprite datum we use to draw on the bodypart</p><h3 id="var/stored_feature_id"><aside class="declaration">var </aside>stored_feature_id <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L19"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 19"></a></h3><p>Stores the dna.features[feature_key], used for external organs that can be surgically removed or inserted.</p><h3 id="var/time_of_death"><aside class="declaration">var </aside>time_of_death <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 28"></a></h3><p>The world.time of this organ's death</p><h3 id="var/useable"><aside class="declaration">var </aside>useable <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 48"></a></h3><p>When you take a bite you cant jam it in for surgery anymore.</p><h3 id="var/visual"><aside class="declaration">var </aside>visual <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 54"></a></h3><p>Do we effect the appearance of our mob. Used to save time in preference code</p><h3 id="var/zone"><aside class="declaration">var </aside>zone <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 14"></a></h3><p>The body zone this organ is supposed to inhabit.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_organ_trait"><aside class="declaration">proc </aside>add_organ_trait<aside>(trait)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L250"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 250"></a></aside></h3><p>Add a trait to an organ that it will give its owner.</p><h3 id="proc/applyOrganDamage"><aside class="declaration">proc </aside>applyOrganDamage<aside>(damage_amount, maximum, silent, updating_health, cause_of_death)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L412"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 412"></a></aside></h3><p>Adjusts an organ's damage by the amount &quot;damage_amount&quot;, up to a maximum amount, which is by default max damage</p><h3 id="proc/attempt_vital_organ_revival"><aside class="declaration">proc </aside>attempt_vital_organ_revival<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/owner)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L534"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 534"></a></aside></h3><p>Called by Insert() if the organ is vital and the target is dead.</p><h3 id="proc/before_organ_replacement"><aside class="declaration">proc </aside>before_organ_replacement<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/organ.html">organ</a>/replacement)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L600"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 600"></a></aside></h3><p>Called before organs are replaced in regenerate_organs with new ones</p><h3 id="proc/build_cache_key"><aside class="declaration">proc </aside>build_cache_key<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L132"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 132"></a></aside></h3><p>Generate a unique key based on our sprites. So that if we've aleady drawn these sprites, they can be found in the cache and wont have to be drawn again (blessing and curse)</p><h3 id="proc/build_overlays"><aside class="declaration">proc </aside>build_overlays<aside>(physique, image_dir) <span class="as"> as </span>/list <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 77"></a></aside></h3><p>Build overlays</p><h3 id="proc/can_draw_on_bodypart"><aside class="declaration">proc </aside>can_draw_on_bodypart<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/human)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/_external_organs.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 24"></a></aside></h3><p>Check whether we can draw the overlays. You generally don't want lizard snouts to draw over an EVA suit</p><h3 id="proc/can_recover"><aside class="declaration">proc </aside>can_recover<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L519"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 519"></a></aside></h3><p>Can this organ be revived from the dead?</p><h3 id="proc/check_damage_thresholds"><aside class="declaration">proc </aside>check_damage_thresholds<aside>(/<a href="mob.html">mob</a>/organ_owner)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L461"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 461"></a></aside></h3><ul>
<li>check_damage_thresholds</li>
<li>Returns the organ state change constant, read the proc.</li>
<li>description: By checking our current damage against our previous damage, we can decide whether we've passed an organ threshold.</li>
</ul><h3 id="proc/check_failing_thresholds"><aside class="declaration">proc </aside>check_failing_thresholds<aside>(revivable, cause_of_death)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L498"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 498"></a></aside></h3><p>Checks if an organ should/shouldn't be failing and gives the appropriate organ flag</p><h3 id="proc/cut_away"><aside class="declaration">proc </aside>cut_away<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L236"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 236"></a></aside></h3><p>Cut an organ away from it's container, but do not remove it from the container physically.</p><h3 id="proc/damage_threshold_message"><aside class="declaration">proc </aside>damage_threshold_message<aside>(state)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L482"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 482"></a></aside></h3><p>Converts damage threshold state changes to text</p><h3 id="proc/ex_act"><aside class="parent"><a title="/atom" href="atom.html#proc/ex_act">â†‘</a></aside>ex_act<aside>(severity, target)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L100"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 100"></a></aside></h3><p>A little hack to ensure old behavior.</p><h3 id="proc/exit_wardrobe"><aside class="declaration">proc </aside>exit_wardrobe<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L392"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 392"></a></aside></h3><p>Used as callbacks by object pooling</p><h3 id="proc/get_availability"><aside class="declaration">proc </aside>get_availability<aside>(/<a href="datum.html">datum</a>/<a href="datum/species.html">species</a>/owner_species)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L596"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 596"></a></aside></h3><ul>
<li>
<p>get_availability</p>
</li>
<li>
<p>returns whether the species should innately have this organ.</p>
</li>
<li>
<p>regenerate organs works with generic organs, so we need to get whether it can accept certain organs just by what this returns.</p>
</li>
<li>
<p>This is set to return true or false, depending on if a species has a specific organless trait. stomach for example checks if the species has NOSTOMACH and return based on that.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<p>owner_species - species, needed to return whether the species has an organ specific trait</p>
</li>
</ul><h3 id="proc/get_global_feature_list"><aside class="declaration">proc </aside>get_global_feature_list<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/_external_organs.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 20"></a></aside></h3><p>Return a dumb glob list for this specific feature (called from parse_sprite)</p><h3 id="proc/get_overlays"><aside class="declaration">proc </aside>get_overlays<aside>(physique, image_dir) <span class="as"> as </span>/list <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/rendering.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/rendering.dm 52"></a></aside></h3><p>Add the overlays we need to draw on a person. Called from _bodyparts.dm</p><h3 id="proc/get_scan_results"><aside class="declaration">proc </aside>get_scan_results<aside>(tag) <span class="as"> as </span>/list <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L604"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 604"></a></aside></h3><p>Called by medical scanners to get a simple summary of how healthy the organ is. Returns an empty string if things are fine.</p><h3 id="proc/inherit_color"><aside class="declaration">proc </aside>inherit_color<aside>(force)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/_external_organs.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 40"></a></aside></h3><p>Give the organ it's color. Force will override the existing one.</p><h3 id="proc/is_causing_pain"><aside class="declaration">proc </aside>is_causing_pain<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L546"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 546"></a></aside></h3><p>Returns TRUE if this organ is able to cause pain to the parent during handle_pain()</p><h3 id="proc/mutate_feature"><aside class="declaration">proc </aside>mutate_feature<aside>(features, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/human)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/_external_organs.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 28"></a></aside></h3><p>Update our features after something changed our appearance</p><h3 id="proc/on_death"><aside class="declaration">proc </aside>on_death<aside>(delta_time, times_fired)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L273"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 273"></a></aside></h3><p>This is on_life() but for when the owner is dead or outside of a mob. Bad name.</p><h3 id="proc/on_life"><aside class="declaration">proc </aside>on_life<aside>(delta_time, times_fired)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L288"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 288"></a></aside></h3><p>Called once every life tick on every organ in a carbon's body
NOTE: THIS IS VERY HOT. Be careful what you put in here
To give you some scale, if there's 100 carbons in the game, they each have maybe 9 organs
So that's 900 calls to this proc every life process. Please don't be dumb
Return TRUE to call updatehealth(). Please only call inside of on_life() if it's important.</p><h3 id="proc/override_color"><aside class="declaration">proc </aside>override_color<aside>(rgb_value)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/_external_organs.dm#L68"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 68"></a></aside></h3><p>Colorizes the limb it's inserted to, if required.</p><h3 id="proc/passed_high_threshold"><aside class="declaration">proc </aside>passed_high_threshold<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L451"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 451"></a></aside></h3><p>Returns TRUE if the organ is damaged above it's high threshold.</p><h3 id="proc/passed_low_threshold"><aside class="declaration">proc </aside>passed_low_threshold<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L447"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 447"></a></aside></h3><p>Returns TRUE if the organ is damaged above it's low threshold.</p><h3 id="proc/remove_organ_trait"><aside class="declaration">proc </aside>remove_organ_trait<aside>(trait)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L255"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 255"></a></aside></h3><p>Removes a trait from an organ, and by extension, its owner.</p><h3 id="proc/setOrganDamage"><aside class="declaration">proc </aside>setOrganDamage<aside>(damage_amount)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L442"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 442"></a></aside></h3><p>SETS an organ's damage to the amount &quot;damage_amount&quot;, and in doing so clears or sets the failing flag, good for when you have an effect that should fix an organ if broken</p><h3 id="proc/set_organ_dead"><aside class="declaration">proc </aside>set_organ_dead<aside>(failing, cause_of_death)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L505"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 505"></a></aside></h3><p>Set or unset the organ as failing. Returns TRUE on success.</p><h3 id="proc/set_sprite"><aside class="declaration">proc </aside>set_sprite<aside>(sprite_name)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/external/_external_organs.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/external/_external_organs.dm 13"></a></aside></h3><p>System for drawing organs with overlays. These overlays are drawn directly on the bodypart, attached to a person or not
Works in tandem with the /datum/sprite_accessory datum to generate sprites
Unlike normal organs, we're actually inside a persons limbs at all times</p>
<p>mob_sprite is optional if you havent set sprite_datums for the object, and is used mostly to generate sprite_datums from a persons DNA
For _mob_sprite we make a distinction between &quot;Round Snout&quot; and &quot;round&quot;. Round Snout is the name of the sprite datum, while &quot;round&quot; would be part of the sprite
I'm sorry</p><h3 id="proc/surgically_fix"><aside class="declaration">proc </aside>surgically_fix<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L654"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 654"></a></aside></h3><p>Used for the fix_organ surgery, lops off some of the maxHealth if the organ was very damaged.</p><h3 id="proc/update_organ_traits"><aside class="declaration">proc </aside>update_organ_traits<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/surgery/organs/_organ.dm#L245"><img src="git.png" width="16" height="16" title="code/modules/surgery/organs/_organ.dm 245"></a></aside></h3><p>Updates the traits of the organ on the specific organ it is called on. Should be called anytime an organ is given a trait while it is already in a body.</p></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>