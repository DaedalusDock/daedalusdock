<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/power/apc - Daedalus Dock</title></head><body><header><a href="index.html">Daedalus Dock</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/power/apc.html#var">Var Details</a> - <a href="obj/machinery/power/apc.html#proc">Proc Details</a></header><main><h1>apc <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/power/apc.html">power/apc</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 9"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/power/apc.html#var/aidisabled">aidisabled</a></th><td>Is the AI locked from using the APC</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/alarm_manager">alarm_manager</a></th><td>Represents a signel source of power alarms for this apc</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/area">area</a></th><td>Reference to our area</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/areastring">areastring</a></th><td>Mapper helper to tie an apc to another area</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/auto_name">auto_name</a></th><td>Automatically name the APC after the area is in</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/beenhit">beenhit</a></th><td>used for counting how many times it has been hit, used for Aliens at the moment</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/cell">cell</a></th><td>Reference to our internal cell</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/cell_type">cell_type</a></th><td>Type of cell we start with</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/chargecount">chargecount</a></th><td>Number of ticks where the apc is trying to recharge</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/chargemode">chargemode</a></th><td>Can the APC charge?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/charging">charging</a></th><td>State of the apc charging (not charging, charging, fully charged)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/coverlocked">coverlocked</a></th><td>Is the apc cover locked?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/emergency_lights">emergency_lights</a></th><td>Should the emergency lights be on?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/environ">environ</a></th><td>State of the environmental channel (off, auto off, on, auto on)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/equipment">equipment</a></th><td>State of the equipment channel (off, auto off, on, auto on)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/failure_timer">failure_timer</a></th><td>Time to allow the APC to regain some power and to turn the channels back online</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/force_update">force_update</a></th><td>Forces an update on the power use to ensure that the apc has enough power</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/has_electronics">has_electronics</a></th><td>State of the electronics inside (missing, installed, secured)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/icon_update_needed">icon_update_needed</a></th><td>Used to stop process from updating the icons too much</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_environ">lastused_environ</a></th><td>Amount of power used by the environmental channel</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_equip">lastused_equip</a></th><td>Amount of power used by the equipment channel</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_light">lastused_light</a></th><td>Amount of power used by the lighting channel</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lastused_total">lastused_total</a></th><td>Total amount of power used by the three channels</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/light_on_inner_range">light_on_inner_range</a></th><td>Range of the light emitted when on</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/lighting">lighting</a></th><td>State of the lighting channel (off, auto off, on, auto on)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/locked">locked</a></th><td>Is the apc interface locked?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/long_term_power">long_term_power</a></th><td>buffer state that makes apcs not shut off channels immediately as long as theres some power left, effect visible in apcs only slowly losing power</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/main_status">main_status</a></th><td>State of the apc external power (no power, low power, has power)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/malfai">malfai</a></th><td>Reference to our ai hacker</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/malfhack">malfhack</a></th><td>Is the apc hacked by a malf ai?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/occupier">occupier</a></th><td>Reference to the shunted ai inside</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/offset_old">offset_old</a></th><td>Offsets the object by APC_PIXEL_OFFSET (defined in apc_defines.dm) pixels in the direction we want it placed in. This allows the APC to be embedded in a wall, yet still inside an area (like mapping).</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/opened">opened</a></th><td>State of the cover (closed, opened, removed)</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/operating">operating</a></th><td>Is the apc working</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/overload">overload</a></th><td>used for the Blackout malf module</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/remote_control">remote_control</a></th><td>Reference to our remote control</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/shorted">shorted</a></th><td>Is the APC shorted and not working?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/start_charge">start_charge</a></th><td>Initial cell charge %</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/terminal">terminal</a></th><td>Reference to our cable terminal</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/transfer_in_progress">transfer_in_progress</a></th><td>Is there an AI being transferred out of us?</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/update_overlay">update_overlay</a></th><td>Stores the flag for the overlays</td></tr><tr><th><a href="obj/machinery/power/apc.html#var/update_state">update_state</a></th><td>Stores the flags for the icon state</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/autoset">autoset</a></th><td>Returns the new status value for an APC channel.</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/check_updates">check_updates</a></th><td>Checks for what icon updates we will need to handle</td></tr><tr><th><a href="obj/machinery/power/apc.html#proc/setsubsystem">setsubsystem</a></th><td>Used by external forces to set the APCs channel status's.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/aidisabled"><aside class="declaration">var </aside>aidisabled <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L64"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 64"></a></h3><p>Is the AI locked from using the APC</p><h3 id="var/alarm_manager"><aside class="declaration">var </aside>alarm_manager <aside>– /<a href="datum.html">datum</a>/<a href="datum/alarm_handler.html">alarm_handler</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L111"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 111"></a></h3><p>Represents a signel source of power alarms for this apc</p><h3 id="var/area"><aside class="declaration">var </aside>area <aside>– /<a href="area.html">area</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 32"></a></h3><p>Reference to our area</p><h3 id="var/areastring"><aside class="declaration">var </aside>areastring <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 34"></a></h3><p>Mapper helper to tie an apc to another area</p><h3 id="var/auto_name"><aside class="declaration">var </aside>auto_name <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L95"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 95"></a></h3><p>Automatically name the APC after the area is in</p><h3 id="var/beenhit"><aside class="declaration">var </aside>beenhit <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L87"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 87"></a></h3><p>used for counting how many times it has been hit, used for Aliens at the moment</p><h3 id="var/cell"><aside class="declaration">var </aside>cell <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/stock_parts.html">stock_parts</a>/<a href="obj/item/stock_parts/cell.html">cell</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 36"></a></h3><p>Reference to our internal cell</p><h3 id="var/cell_type"><aside class="declaration">var </aside>cell_type <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 40"></a></h3><p>Type of cell we start with</p><h3 id="var/chargecount"><aside class="declaration">var </aside>chargecount <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L58"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 58"></a></h3><p>Number of ticks where the apc is trying to recharge</p><h3 id="var/chargemode"><aside class="declaration">var </aside>chargemode <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 56"></a></h3><p>Can the APC charge?</p><h3 id="var/charging"><aside class="declaration">var </aside>charging <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 54"></a></h3><p>State of the apc charging (not charging, charging, fully charged)</p><h3 id="var/coverlocked"><aside class="declaration">var </aside>coverlocked <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L62"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 62"></a></h3><p>Is the apc cover locked?</p><h3 id="var/emergency_lights"><aside class="declaration">var </aside>emergency_lights <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L101"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 101"></a></h3><p>Should the emergency lights be on?</p><h3 id="var/environ"><aside class="declaration">var </aside>environ <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 50"></a></h3><p>State of the environmental channel (off, auto off, on, auto on)</p><h3 id="var/equipment"><aside class="declaration">var </aside>equipment <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L48"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 48"></a></h3><p>State of the equipment channel (off, auto off, on, auto on)</p><h3 id="var/failure_timer"><aside class="declaration">var </aside>failure_timer <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L97"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 97"></a></h3><p>Time to allow the APC to regain some power and to turn the channels back online</p><h3 id="var/force_update"><aside class="declaration">var </aside>force_update <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L99"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 99"></a></h3><p>Forces an update on the power use to ensure that the apc has enough power</p><h3 id="var/has_electronics"><aside class="declaration">var </aside>has_electronics <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L83"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 83"></a></h3><p>State of the electronics inside (missing, installed, secured)</p><h3 id="var/icon_update_needed"><aside class="declaration">var </aside>icon_update_needed <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L107"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 107"></a></h3><p>Used to stop process from updating the icons too much</p><h3 id="var/lastused_environ"><aside class="declaration">var </aside>lastused_environ <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 72"></a></h3><p>Amount of power used by the environmental channel</p><h3 id="var/lastused_equip"><aside class="declaration">var </aside>lastused_equip <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L70"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 70"></a></h3><p>Amount of power used by the equipment channel</p><h3 id="var/lastused_light"><aside class="declaration">var </aside>lastused_light <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L68"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 68"></a></h3><p>Amount of power used by the lighting channel</p><h3 id="var/lastused_total"><aside class="declaration">var </aside>lastused_total <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 74"></a></h3><p>Total amount of power used by the three channels</p><h3 id="var/light_on_inner_range"><aside class="declaration">var </aside>light_on_inner_range <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 27"></a></h3><p>Range of the light emitted when on</p><h3 id="var/lighting"><aside class="declaration">var </aside>lighting <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 46"></a></h3><p>State of the lighting channel (off, auto off, on, auto on)</p><h3 id="var/locked"><aside class="declaration">var </aside>locked <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L60"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 60"></a></h3><p>Is the apc interface locked?</p><h3 id="var/long_term_power"><aside class="declaration">var </aside>long_term_power <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L93"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 93"></a></h3><p>buffer state that makes apcs not shut off channels immediately as long as theres some power left, effect visible in apcs only slowly losing power</p><h3 id="var/main_status"><aside class="declaration">var </aside>main_status <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L76"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 76"></a></h3><p>State of the apc external power (no power, low power, has power)</p><h3 id="var/malfai"><aside class="declaration">var </aside>malfai <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L81"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 81"></a></h3><p>Reference to our ai hacker</p><h3 id="var/malfhack"><aside class="declaration">var </aside>malfhack <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L79"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 79"></a></h3><p>Is the apc hacked by a malf ai?</p><h3 id="var/occupier"><aside class="declaration">var </aside>occupier <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/silicon.html">silicon</a>/<a href="mob/living/silicon/ai.html">ai</a></aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L89"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 89"></a></h3><p>Reference to the shunted ai inside</p><h3 id="var/offset_old"><aside class="declaration">var </aside>offset_old <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L113"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 113"></a></h3><p>Offsets the object by APC_PIXEL_OFFSET (defined in apc_defines.dm) pixels in the direction we want it placed in. This allows the APC to be embedded in a wall, yet still inside an area (like mapping).</p><h3 id="var/opened"><aside class="declaration">var </aside>opened <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 42"></a></h3><p>State of the cover (closed, opened, removed)</p><h3 id="var/operating"><aside class="declaration">var </aside>operating <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L52"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 52"></a></h3><p>Is the apc working</p><h3 id="var/overload"><aside class="declaration">var </aside>overload <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L85"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 85"></a></h3><p>used for the Blackout malf module</p><h3 id="var/remote_control"><aside class="declaration">var </aside>remote_control <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/computer/apc_control</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L109"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 109"></a></h3><p>Reference to our remote control</p><h3 id="var/shorted"><aside class="declaration">var </aside>shorted <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 44"></a></h3><p>Is the APC shorted and not working?</p><h3 id="var/start_charge"><aside class="declaration">var </aside>start_charge <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 38"></a></h3><p>Initial cell charge %</p><h3 id="var/terminal"><aside class="declaration">var </aside>terminal <aside>– /<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/power/terminal/datanet</aside> <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L66"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 66"></a></h3><p>Reference to our cable terminal</p><h3 id="var/transfer_in_progress"><aside class="declaration">var </aside>transfer_in_progress <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L91"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 91"></a></h3><p>Is there an AI being transferred out of us?</p><h3 id="var/update_overlay"><aside class="declaration">var </aside>update_overlay <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L105"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 105"></a></h3><p>Stores the flag for the overlays</p><h3 id="var/update_state"><aside class="declaration">var </aside>update_state <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_main.dm#L103"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_main.dm 103"></a></h3><p>Stores the flags for the icon state</p><h2 id="proc">Proc Details</h2><h3 id="proc/autoset"><aside class="declaration">proc </aside>autoset<aside>(val, on)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_power_proc.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 72"></a></aside></h3><p>Returns the new status value for an APC channel.</p>
<p>// val 0=off, 1=off(auto) 2=on 3=on(auto)
// on 0=off, 1=on, 2=autooff
TODO: Make this use bitflags instead. It should take at most three lines, but it's out of scope for now.</p>
<p>Arguments:</p>
<ul>
<li>val: The current status of the power channel.
<ul>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_OFF" title="APC_CHANNEL_OFF">APC_CHANNEL_OFF</a>: The APCs channel has been manually set to off. This channel will not automatically change.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_OFF" title="APC_CHANNEL_AUTO_OFF">APC_CHANNEL_AUTO_OFF</a>: The APCs channel is running on automatic and is currently off. Can be automatically set to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_ON" title="APC_CHANNEL_ON">APC_CHANNEL_ON</a>: The APCs channel has been manually set to on. This will be automatically changed only if the APC runs completely out of power or is disabled.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>: The APCs channel is running on automatic and is currently on. Can be automatically set to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_OFF" title="APC_CHANNEL_AUTO_OFF">APC_CHANNEL_AUTO_OFF</a>.</li>
</ul>
</li>
<li>on: An enum dictating how to change the channel's status.
<ul>
<li><a href="code/__DEFINES/apc_defines.html#define/AUTOSET_FORCE_OFF" title="AUTOSET_FORCE_OFF">AUTOSET_FORCE_OFF</a>: The APC forces the channel to turn off. This includes manually set channels.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/AUTOSET_ON" title="AUTOSET_ON">AUTOSET_ON</a>: The APC allows automatic channels to turn back on.</li>
<li><a href="code/__DEFINES/apc_defines.html#define/AUTOSET_OFF" title="AUTOSET_OFF">AUTOSET_OFF</a>: The APC turns automatic channels off.</li>
</ul>
</li>
</ul><h3 id="proc/check_updates"><aside class="declaration">proc </aside>check_updates<aside>()  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_appearance.dm#L89"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_appearance.dm 89"></a></aside></h3><p>Checks for what icon updates we will need to handle</p><h3 id="proc/setsubsystem"><aside class="declaration">proc </aside>setsubsystem<aside>(val)  <a href="https://github.com/DaedalusDock/daedalusdock/blob/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608/code/modules/power/apc/apc_power_proc.dm#L96"><img src="git.png" width="16" height="16" title="code/modules/power/apc/apc_power_proc.dm 96"></a></aside></h3><p>Used by external forces to set the APCs channel status's.</p>
<p>Arguments:</p>
<ul>
<li>val: The desired value of the subsystem:
<ul>
<li>1: Manually sets the APCs channel to be <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_OFF" title="APC_CHANNEL_OFF">APC_CHANNEL_OFF</a>.</li>
<li>2: Manually sets the APCs channel to be <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>. If the APC doesn't have any power this defaults to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_OFF" title="APC_CHANNEL_OFF">APC_CHANNEL_OFF</a> instead.</li>
<li>3: Sets the APCs channel to be <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_ON" title="APC_CHANNEL_AUTO_ON">APC_CHANNEL_AUTO_ON</a>. If the APC doesn't have enough power this defaults to <a href="code/__DEFINES/apc_defines.html#define/APC_CHANNEL_AUTO_OFF" title="APC_CHANNEL_AUTO_OFF">APC_CHANNEL_AUTO_OFF</a> instead.</li>
</ul>
</li>
</ul></main><footer>daedalus.dme <a href="https://github.com/DaedalusDock/daedalusdock/tree/5ab5b0f18ffcc40cf3a31f75d1e3f6bac0eb7608">5ab5b0f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>